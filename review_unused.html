<html>
<head>
    <script>
    </script>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

<h1>lcls-twincat-motion extras - unreviewed items</h1>

<h2 id="dutEL2521_Ctrl">dutEL2521_Ctrl</h2>

<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="dutEL2521_Ctrl:1" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:1">1&nbsp;</a></td>
            <td class="code">TYPE <a class="coderef" href="#dutEL2521_Ctrl">dutEL2521_Ctrl</a>&nbsp;:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:2" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:2">2&nbsp;</a></td>
            <td class="code">STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:3" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///The control word (CW) is located in the output process image, and is transmitted from the controller to the terminal.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:4" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.0&nbsp;FREQ_SEL 0bin /&nbsp;1bin &nbsp;Rapid change of the base frequency (only if the ramp function is inactive):</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:5" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///0bin = Base frequency 1&nbsp;(object 8001:02)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:6" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///1bin = Base frequency 2&nbsp;(object 8001:03) </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:7" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;FREQ_SEL: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:8" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.1&nbsp;RAMP_DIS 1bin Operation of the ramp function is cancelled, in spite of object 8000:06&nbsp;being active;&nbsp;if travel distance control is active, it is interrupted by this bit </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:9" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;RAMP_DIS: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:10" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.2&nbsp;GO_COUNTER 1bin &nbsp;If travel distance control is active (object 8000:0A), then a&nbsp;pre-set counter value is approached when the bit is set </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:11" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;GO_COUNTER: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:12" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.5&nbsp;CNT_CLR 1bin The contents of the counter is cleared or set (object 8000:0B) by this bit. </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:13" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Any overflow or underflow bits that might be set are also cleared by this bit. </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:14" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///The process can be edge triggered or level triggered (object 8000:05). </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:15" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;CNT_CLR: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:16" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:16">16&nbsp;</a></td>
            <td class="code">END_STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:17" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:17">17&nbsp;</a></td>
            <td class="code">END_TYPE</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>dutEL2521_Ctrl - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Ctrl - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Ctrl - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Ctrl - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="dutEL2521_Status">dutEL2521_Status</h2>
<img src="graphs/dutEL2521_Status.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="dutEL2521_Status:1" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:1">1&nbsp;</a></td>
            <td class="code">TYPE <a class="coderef" href="#dutEL2521_Status">dutEL2521_Status</a>&nbsp;:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:2" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:2">2&nbsp;</a></td>
            <td class="code">STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:3" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///The status word (SW) is located in the input process image, and is transmitted from the terminal to the controller.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:4" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.0&nbsp;SEL_ACK/END_COUNTER 1bin &nbsp;Confirms the change of base frequency. At activated travel distance control: target counter value reached </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:5" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;SEL_ACK: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:6" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.1&nbsp;RAMP_ACTIVE 1bin Ramp is currently being followed </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:7" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;RAMP_ACTIVE: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:8" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.2&nbsp;UNDERFLOW 1bin This bit is set if the 16-bit counter underflows (0&nbsp;->&nbsp;65535). It is reset when the counter drops below two thirds of its measuring range (43690&nbsp;->&nbsp;43689) or immediately an overflow occurs. </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:9" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;UNDERFLOW: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:10" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.3&nbsp;OVERFLOW 1bin This bit is set if the 16-bit counter overflows (65535&nbsp;->&nbsp;0). It is reset when the counter exceeds one third of its measuring range (21845&nbsp;->&nbsp;21846) or immediately an underflow occurs </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:11" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;OVERFLOW: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:12" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.4&nbsp;INPUT_T 1bin Status of INPUT_T </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:13" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;INPUT_T: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:14" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.5&nbsp;INPUT_Z 1bin Status of INPUT_Z </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:15" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;INPUT_Z: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:16" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.6&nbsp;ERROR 1bin General error bit, included with overflow/underflow </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:17" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ERROR: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:18" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:18">18&nbsp;</a></td>
            <td class="code">END_STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:19" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:19">19&nbsp;</a></td>
            <td class="code">END_TYPE</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>dutEL2521_Status - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Status - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Status - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Status - Summary</h3>
<ul>
    <li>
    </li>
</ul>

</body>


<h2 id="Global_Version">Global_Version</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="Global_Version:1" class="lineid"><a class="unassuming-link" href="#Global_Version:1">1&nbsp;</a></td>
            <td class="code">{attribute 'TcGenerated'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:2" class="lineid"><a class="unassuming-link" href="#Global_Version:2">2&nbsp;</a></td>
            <td class="code">// This function has been automatically generated from the project information.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:3" class="lineid"><a class="unassuming-link" href="#Global_Version:3">3&nbsp;</a></td>
            <td class="code">VAR_GLOBAL CONSTANT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:4" class="lineid"><a class="unassuming-link" href="#Global_Version:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'const_non_replaced'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:5" class="lineid"><a class="unassuming-link" href="#Global_Version:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'linkalways'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:6" class="lineid"><a class="unassuming-link" href="#Global_Version:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stLibVersion_lcls_twincat_motion : ST_LibVersion := (iMajor := 0, iMinor := 0, iBuild := 0, iRevision := 0, sVersion := '0.0.0');</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:7" class="lineid"><a class="unassuming-link" href="#Global_Version:7">7&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>Global_Version - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>Global_Version - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>Global_Version - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>Global_Version - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="CheckDivLInt">CheckDivLInt</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="CheckDivLInt:1" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:1">1&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;DO NOT EDIT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:2" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:2">2&nbsp;</a></td>
            <td class="code">FUNCTION <a class="coderef" href="#CheckDivLInt">CheckDivLInt</a>&nbsp;: LINT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:3" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:4" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;divisor:LINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:5" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:6" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:6">6&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;Only an Implementation suggestion</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:7" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:7">7&nbsp;</a></td>
            <td class="code">{noflow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:8" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:8">8&nbsp;</a></td>
            <td class="code">IF divisor =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:9" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLInt">CheckDivLInt</a>:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:10" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:10">10&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:11" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLInt">CheckDivLInt</a>:=divisor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:12" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:12">12&nbsp;</a></td>
            <td class="code">END_IF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:13" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:13">13&nbsp;</a></td>
            <td class="code">{flow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:14" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:14">14&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:15" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:15">15&nbsp;</a></td>
            <td class="code">END_FUNCTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>CheckDivLInt - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLInt - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLInt - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLInt - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="CheckDivLReal">CheckDivLReal</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="CheckDivLReal:1" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:1">1&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;DO NOT EDIT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:2" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:2">2&nbsp;</a></td>
            <td class="code">FUNCTION <a class="coderef" href="#CheckDivLReal">CheckDivLReal</a>&nbsp;: LREAL</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:3" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:4" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;divisor:LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:5" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:6" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:6">6&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;Only an Implementation suggestion</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:7" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:7">7&nbsp;</a></td>
            <td class="code">{noflow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:8" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:8">8&nbsp;</a></td>
            <td class="code">IF divisor =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:9" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLReal">CheckDivLReal</a>:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:10" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:10">10&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:11" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLReal">CheckDivLReal</a>:=divisor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:12" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:12">12&nbsp;</a></td>
            <td class="code">END_IF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:13" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:13">13&nbsp;</a></td>
            <td class="code">{flow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:14" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:14">14&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:15" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:15">15&nbsp;</a></td>
            <td class="code">END_FUNCTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>CheckDivLReal - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLReal - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLReal - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLReal - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="CheckDivReal">CheckDivReal</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="CheckDivReal:1" class="lineid"><a class="unassuming-link" href="#CheckDivReal:1">1&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;DO NOT EDIT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:2" class="lineid"><a class="unassuming-link" href="#CheckDivReal:2">2&nbsp;</a></td>
            <td class="code">FUNCTION <a class="coderef" href="#CheckDivReal">CheckDivReal</a>&nbsp;: REAL</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:3" class="lineid"><a class="unassuming-link" href="#CheckDivReal:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:4" class="lineid"><a class="unassuming-link" href="#CheckDivReal:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;divisor:REAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:5" class="lineid"><a class="unassuming-link" href="#CheckDivReal:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:6" class="lineid"><a class="unassuming-link" href="#CheckDivReal:6">6&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;Only an Implementation suggestion</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:7" class="lineid"><a class="unassuming-link" href="#CheckDivReal:7">7&nbsp;</a></td>
            <td class="code">{noflow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:8" class="lineid"><a class="unassuming-link" href="#CheckDivReal:8">8&nbsp;</a></td>
            <td class="code">IF divisor =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:9" class="lineid"><a class="unassuming-link" href="#CheckDivReal:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivReal">CheckDivReal</a>:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:10" class="lineid"><a class="unassuming-link" href="#CheckDivReal:10">10&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:11" class="lineid"><a class="unassuming-link" href="#CheckDivReal:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivReal">CheckDivReal</a>:=divisor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:12" class="lineid"><a class="unassuming-link" href="#CheckDivReal:12">12&nbsp;</a></td>
            <td class="code">END_IF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:13" class="lineid"><a class="unassuming-link" href="#CheckDivReal:13">13&nbsp;</a></td>
            <td class="code">{flow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:14" class="lineid"><a class="unassuming-link" href="#CheckDivReal:14">14&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:15" class="lineid"><a class="unassuming-link" href="#CheckDivReal:15">15&nbsp;</a></td>
            <td class="code">END_FUNCTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>CheckDivReal - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivReal - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivReal - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivReal - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_CalculateFrequency_3702_v0_01">FB_CalculateFrequency_3702_v0_01</h2>

<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:1" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_CalculateFrequency_3702_v0_01">FB_CalculateFrequency_3702_v0_01</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:2" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:2">2&nbsp;</a></td>
            <td class="code">VAR CONSTANT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:3" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///200&nbsp;samples/period</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:4" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;cBufferSize: INT := 1000;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:5" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:6" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:6">6&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:7" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:8" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bCalculate: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:9" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;aBufferValue: ARRAY[0..(cBuffersize -&nbsp;1)] OF INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:10" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;aBufferDcTime: ARRAY[0..(cBuffersize -&nbsp;1)] OF UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:11" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///If curve has a&nbsp;DC offset</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:12" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDCOffset: INT := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:13" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:13">13&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:14" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:14">14&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:15" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:16" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:17" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fActFrequency: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:18" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:19" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:20" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndex: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:21" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nFirstZeroCrossing: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:22" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nLastZeroCrossing: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:23" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeFirst: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:24" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeLast: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:25" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeRes: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:26" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nCrossings: INT := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:27" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:27">27&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:28" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:28">28&nbsp;</a></td>
            <td class="code">VAR_TEMP</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:29" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rRange: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:30" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeSpan: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:31" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:31">31&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:32" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:32">32&nbsp;</a></td>
            <td class="code">EnO:=En;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:33" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:33">33&nbsp;</a></td>
            <td class="code">bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:34" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:34">34&nbsp;</a></td>
            <td class="code">nCrossings:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:35" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:35">35&nbsp;</a></td>
            <td class="code">IF En AND bCalculate THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:36" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;//Serach for crossings of nDCOffset</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:37" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;FOR nIndex:=1&nbsp;TO cBuffersize-1&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:38" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF((aBufferValue[nIndex]>nDCOffset AND aBufferValue[nIndex-1]<=nDCOffset) OR (aBufferValue[nIndex]<nDCOffset AND aBufferValue[nIndex-1]>=nDCOffset)) &nbsp;&nbsp;&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:39" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF(nCrossings=0) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:40" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nFirstZeroCrossing:=nIndex;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:41" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:42" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nLastZeroCrossing:=nIndex;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:43" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nCrossings:=nCrossings+1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:44" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:45" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_FOR  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:46" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:47" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF nFirstZeroCrossing <&nbsp;nLastZeroCrossing &nbsp;AND &nbsp;nCrossings>2&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:48" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//interpolate zero crossings for higher accuracy</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:49" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeRes:=UDINT_TO_REAL(aBufferDcTime[1]-aBufferDcTime[0]);&nbsp;//Buffer must contain more than 2&nbsp;values</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:50" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rRange:=INT_TO_REAL(ABS(aBufferValue[nFirstZeroCrossing-1]-aBufferValue[nFirstZeroCrossing]));</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:51" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeFirst:=UDINT_TO_REAL( aBufferDcTime[nFirstZeroCrossing-1])+ABS(INT_TO_REAL(aBufferValue[nFirstZeroCrossing-1])/rRange*rTimeRes);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:52" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rRange:=INT_TO_REAL(ABS(aBufferValue[nLastZeroCrossing-1]-aBufferValue[nLastZeroCrossing]));</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:53" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeLast:=UDINT_TO_REAL( aBufferDcTime[nLastZeroCrossing-1])+ABS(INT_TO_REAL(aBufferValue[nLastZeroCrossing-1])/rRange*rTimeRes);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:54" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:54">54&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:55" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Time span first to last (considering that max one time counter overflow have occured in the total time range of the time buffer) &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:56" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF rTimeFirst<rTimeLast THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:57" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeSpan:=rTimeLast-rTimeFirst;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:58" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE //overflow of counter once (only 32bit timestamp =4.29seconds)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:59" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeSpan:=4294967296.0-rTimeFirst+rTimeLast;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:60" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:61" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:61">61&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:62" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fActFrequency:=1000000000.0/rTimeSpan*(nCrossings-1)/2;&nbsp;//two crossings per period =>&nbsp;Average frequency over buffer.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:63" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:64" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fActFrequency:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:65" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:66" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:66">66&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:67" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:67">67&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:68" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:68">68&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_CalculateFrequency_3702_v0_01 - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_CalculateFrequency_3702_v0_01 - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_CalculateFrequency_3702_v0_01 - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_CalculateFrequency_3702_v0_01 - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_EL1252ASM_v1_00">FB_EL1252ASM_v1_00</h2>
<img src="graphs/FB_EL1252ASM_v1_00.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_EL1252ASM_v1_00:1" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_EL1252ASM_v1_00">FB_EL1252ASM_v1_00</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:2" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:3" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:4" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:4">4&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:5" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:5">5&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:6" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:7" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_1: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:8" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_2: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:9" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimePos: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:10" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimePos: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:11" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimeNeg: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:12" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimeNeg: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:13" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Below bits can be used but then they must be enabled in the COE of the card. Nicklas suggested to not use these (since something wss written that you then only were allowed to read the latch time onece (some kkind of auto reset??)) &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:14" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Di_1_LatchNeg:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:15" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Di_1_LatchPos:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:16" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Di_2_LatchNeg:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:17" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Di_2_LatchPos:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:18" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Error: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:19" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:19">19&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:20" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:20">20&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:21" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Channel_1_Input AT %I*: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:22" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Channel_2_Input AT %I*: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:23" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Latch_Status1&nbsp;AT %I*: USINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:24" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Latch_Status2&nbsp;AT %I*: USINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:25" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchPos1&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:26" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchNeg1&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:27" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchPos2&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:28" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchNeg2&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:29" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;WcState_WcState AT %I*: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:30" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;InfoData_State AT %I*: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:31" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:31">31&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:32" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:32">32&nbsp;</a></td>
            <td class="code">EnO:=En;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:33" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:33">33&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:34" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:34">34&nbsp;</a></td>
            <td class="code">IF En AND (WcState_WcState OR InfoData_State<>16#8) THEN //InfoData_State==0&nbsp;=>&nbsp;in OP mode</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:35" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Error:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:36" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:36">36&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:37" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Error:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:38" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:38">38&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:39" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:39">39&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:40" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:40">40&nbsp;</a></td>
            <td class="code">IF En THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:41" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF Error=FALSE THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:42" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1:=Channel_1_Input;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:43" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2:=Channel_2_Input;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:44" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;(*  &nbsp;&nbsp;Di_1_LatchPos:=Latch_Status1.0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:45" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchNeg:=Latch_Status1.1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:46" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchPos:=Latch_Status2.0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:47" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchNeg:=Latch_Status2.1;*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:48" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimePos:=Latch_LatchPos1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:49" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimePos:=Latch_LatchPos2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:50" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimeNeg:=Latch_LatchNeg1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:51" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimeNeg:=Latch_LatchNeg2;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:52" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:53" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:54" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:55" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:56" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:57" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:57">57&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:58" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:58">58&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:59" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:59">59&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_EL1252ASM_v1_00 - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EL1252ASM_v1_00 - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EL1252ASM_v1_00 - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EL1252ASM_v1_00 - Summary</h3>
<ul>
    <li>
    </li>
</ul>

<h2 id="FB_EpicsInOut">FB_EpicsInOut</h2>
<img src="graphs/FB_EpicsInOut.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_EpicsInOut:1" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_EpicsInOut">FB_EpicsInOut</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:2" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:2">2&nbsp;</a></td>
            <td class="code">// Example usage of <a class="coderef" href="#FB_PositionStateManager">FB_PositionStateManager</a>&nbsp;for a&nbsp;simple IN/OUT axis. See NOTE: comments.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:3" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:3">3&nbsp;</a></td>
            <td class="code">// Also usable as a&nbsp;drop-in for these cases (no need to roll your own in/out)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:4" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:4">4&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:5" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Motor to apply states to</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:6" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage: <a class="coderef" href="#DUT_MotionStage">DUT_MotionStage</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:7" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Information about the OUT position</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:8" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stOut: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;&nbsp;// NOTE: Do not pragma these, let it happen in the manager.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:9" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Information about the IN parameter</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:10" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stIn: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:11" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:11">11&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:12" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:12">12&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:13" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, the motor will be moved when enumSet is changed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:14" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bEnable: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:15" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// When changed, sets the destination and starts a&nbsp;move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:16" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:17" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: SET</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:18" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:19" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:20" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;enumSet: <a class="coderef" href="#ENUM_EpicsInOut">ENUM_EpicsInOut</a>;&nbsp;// NOTE: Please copy this pragma exactly on your enumSet</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:21" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:22" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:22">22&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:23" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are in an error state</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:24" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;&nbsp;// NOTE: do not pragma these, already has pragma in manager</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:25" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Error code</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:26" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:27" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Message associated with bError =&nbsp;TRUE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:28" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage: STRING;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:29" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are currently moving between states</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:30" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:31" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we asked for a&nbsp;move between states, it completed successfully, and there is no ongoing move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:32" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:33" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The current state readback</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:34" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:35" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: GET</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:36" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:37" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:38" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;enumGet: <a class="coderef" href="#ENUM_EpicsInOut">ENUM_EpicsInOut</a>;&nbsp;// NOTE: Please copy this pragma exactly on your enumGet</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:39" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:39">39&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:40" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:40">40&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:41" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:42" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrStates: ARRAY[1..15] OF <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:43" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:43">43&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:44" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:45" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:46" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:47" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:48" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbStateManager: <a class="coderef" href="#FB_PositionStateManager">FB_PositionStateManager</a>;&nbsp;// NOTE: Please copy this pragma exactly to pick up the standard PVs</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:49" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:49">49&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:50" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:50">50&nbsp;</a></td>
            <td class="code">// Fist cycle setup</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:51" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:51">51&nbsp;</a></td>
            <td class="code">IF NOT bInit THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:52" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stOut.sName := 'OUT';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:53" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stIn.sName := 'IN';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:54" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:55" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:55">55&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:56" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:56">56&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:57" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:57">57&nbsp;</a></td>
            <td class="code">// Stuff first two values of the 15&nbsp;element array for the manager</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:58" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:58">58&nbsp;</a></td>
            <td class="code">arrStates[1] := stOut;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:59" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:59">59&nbsp;</a></td>
            <td class="code">arrStates[2] := stIn;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:60" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:60">60&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:61" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:61">61&nbsp;</a></td>
            <td class="code">// Call the function block every cycle</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:62" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:62">62&nbsp;</a></td>
            <td class="code">fbStateManager(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:63" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage := stMotionStage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:64" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrStates := arrStates,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:65" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState := enumSet,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:66" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bEnable := bEnable,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:67" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError =>&nbsp;bError,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:68" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId =>&nbsp;nErrorId,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:69" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage =>&nbsp;sErrorMessage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:70" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy =>&nbsp;bBusy,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:71" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone =>&nbsp;bDone,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:72" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;getState =>&nbsp;enumGet);&nbsp;// Cannot do this assignment if enumGet has attribute strict</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:73" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:73">73&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:74" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:74">74&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#DUT_MotionStage">DUT_MotionStage</a></li>
    <li><a href="#DUT_PositionState">DUT_PositionState</a></li>
    <li><a href="#ENUM_EpicsInOut">ENUM_EpicsInOut</a></li>
    <li><a href="#FB_PositionStateManager">FB_PositionStateManager</a></li>
</ul>

<h3>FB_EpicsInOut - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EpicsInOut - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EpicsInOut - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EpicsInOut - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_PositionStateManager">FB_PositionStateManager</h2>
<img src="graphs/FB_PositionStateManager.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_PositionStateManager:1" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_PositionStateManager">FB_PositionStateManager</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:2" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:2">2&nbsp;</a></td>
            <td class="code">(*</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:3" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Handles EPICS moves between multiple states for a&nbsp;single axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:4" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Should be wrapped inside a&nbsp;block with enums for states,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:5" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;see <a class="coderef" href="#FB_EpicsInOut">FB_EpicsInOut</a>&nbsp;for an example.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:6" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:6">6&nbsp;</a></td>
            <td class="code">*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:7" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:7">7&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:8" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Motor to move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:9" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage: <a class="coderef" href="#DUT_MotionStage">DUT_MotionStage</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:10" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:10">10&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:11" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Allocated space for 15&nbsp;states besides Unknown (16&nbsp;is the max for an EPICS MBBI)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:12" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:13" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:14" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:15" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand: %.2d</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:16" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:17" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrStates: ARRAY[1..15] OF <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:18" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:18">18&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:19" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Corresponding arrStates index to move to, or 0&nbsp;if no move selected</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:20" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:21" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:22" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:22">22&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:23" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, start a&nbsp;move when setState transitions to a&nbsp;nonzero number</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:24" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bEnable: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:25" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// On rising edge, reset this FB</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:26" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:27" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: RESET</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:28" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:29" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:30" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:31" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:32" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:33" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:33">33&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:34" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:34">34&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:35" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, there is an error</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:36" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:37" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:38" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:39" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:40" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:41" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:42" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:43" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Error ID</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:44" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:45" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERRID</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:46" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:47" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:48" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:49" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The error that caused bError to flip TRUE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:50" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:51" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERRMSG</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:52" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:53" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:54" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage: STRING;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:55" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are moving the motor</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:56" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:57" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: BUSY</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:58" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:59" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:60" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:61" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:61">61&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:62" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:63" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are not moving the motor and the last move completed successfully</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:64" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:65" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: DONE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:66" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:67" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:68" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:69" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:70" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:71" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:71">71&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:72" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The current position we are trying to reach, or 0</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:73" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:74" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The readback position</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:75" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;getState: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:76" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:76">76&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:77" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:77">77&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:78" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:79" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stUnknown: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:80" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:80">80&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stGoal: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:81" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:81">81&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbStateMove: <a class="coderef" href="#FB_PositionStateMove">FB_PositionStateMove</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:82" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbStateInternal: ARRAY[1..15] OF <a class="coderef" href="#FB_PositionStateInternal">FB_PositionStateInternal</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:83" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndex: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:84" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:85" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:86" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:86">86&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:87" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:87">87&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rtReset: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:88" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bMoveRequested: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:89" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:89">89&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:90" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:90">90&nbsp;</a></td>
            <td class="code">// Reset just goes through the first-cycle init again</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:91" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:91">91&nbsp;</a></td>
            <td class="code">rtReset(CLK:=bReset);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:92" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:92">92&nbsp;</a></td>
            <td class="code">IF rtReset.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:93" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:93">93&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:94" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:94">94&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:95" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:95">95&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:96" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:96">96&nbsp;</a></td>
            <td class="code">// First-cycle init</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:97" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:97">97&nbsp;</a></td>
            <td class="code">IF NOT bInit THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:98" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:98">98&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:99" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:99">99&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage := '';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:100" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:101" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:101">101&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:102" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:102">102&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:103" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:103">103&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:104" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:104">104&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:105" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:105">105&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:106" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:106">106&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:107" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:107">107&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:108" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:108">108&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:109" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:109">109&nbsp;</a></td>
            <td class="code">// All state internal handlers</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:110" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:110">110&nbsp;</a></td>
            <td class="code">FOR nIndex := 1&nbsp;TO 15&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:111" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:111">111&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF arrStates[nIndex].bValid THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:112" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:112">112&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbStateInternal[nIndex](</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:113" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:113">113&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage:=stMotionStage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:114" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:114">114&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stPositionState:=arrStates[nIndex]);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:115" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:115">115&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:116" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:116">116&nbsp;</a></td>
            <td class="code">END_FOR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:117" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:117">117&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:118" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:118">118&nbsp;</a></td>
            <td class="code">// Check where we are by going through all possible states.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:119" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:119">119&nbsp;</a></td>
            <td class="code">// Note this favors the highest-number state that we're at, it's up to you to make your states mutually exclusive.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:120" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:120">120&nbsp;</a></td>
            <td class="code">getState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:121" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:121">121&nbsp;</a></td>
            <td class="code">FOR nIndex := 1&nbsp;TO 15&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:122" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:122">122&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF <a class="coderef" href="#F_AtPositionState">F_AtPositionState</a>(stMotionStage:=stMotionStage, stPositionState:=arrStates[nIndex]) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:123" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:123">123&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getState := nIndex;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:124" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:124">124&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:125" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:125">125&nbsp;</a></td>
            <td class="code">END_FOR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:126" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:126">126&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:127" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:127">127&nbsp;</a></td>
            <td class="code">// Use the changing set pv as a&nbsp;rising-edge trigger</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:128" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:128">128&nbsp;</a></td>
            <td class="code">IF setState <>&nbsp;goalState THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:129" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:129">129&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState := setState;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:130" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:130">130&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:131" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:131">131&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:132" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:132">132&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:133" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:133">133&nbsp;</a></td>
            <td class="code">// Special move handling for error/enable state</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:134" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:134">134&nbsp;</a></td>
            <td class="code">IF bError OR NOT bEnable THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:135" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:135">135&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:136" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:136">136&nbsp;</a></td>
            <td class="code">// Reset inner block this cycle if we were already moving but want a&nbsp;new move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:137" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:137">137&nbsp;</a></td>
            <td class="code">ELSIF bInnerExec AND bNewGoal THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:138" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:138">138&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:139" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:139">139&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:140" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:140">140&nbsp;</a></td>
            <td class="code">// If we hit this branch, we're starting a&nbsp;new move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:141" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:141">141&nbsp;</a></td>
            <td class="code">ELSIF bNewGoal THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:142" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:142">142&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:143" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:143">143&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:144" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:144">144&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:145" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:145">145&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:146" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:146">146&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:147" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:147">147&nbsp;</a></td>
            <td class="code">// Pick the correct goal structure or Unknown</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:148" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:148">148&nbsp;</a></td>
            <td class="code">IF goalState =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:149" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:149">149&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stGoal := stUnknown;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:150" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:150">150&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:151" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:151">151&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stGoal := arrStates[goalState];</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:152" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:152">152&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:153" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:153">153&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:154" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:154">154&nbsp;</a></td>
            <td class="code">// Do the move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:155" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:155">155&nbsp;</a></td>
            <td class="code">fbStateMove(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:156" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:156">156&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage := stMotionStage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:157" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:157">157&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stPositionState := stGoal,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:158" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:158">158&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute := bInnerExec,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:159" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:159">159&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset := bInnerReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:160" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:160">160&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;enumMotionRequest := <a class="coderef" href="#ENUM_MotionRequest">ENUM_MotionRequest</a>.INTERRUPT,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:161" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:161">161&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy =>&nbsp;bBusy);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:162" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:162">162&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:163" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:163">163&nbsp;</a></td>
            <td class="code">// Only pass up bDone information if this FB is active</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:164" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:164">164&nbsp;</a></td>
            <td class="code">IF bInnerExec THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:165" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:165">165&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone := fbStateMove.bDone;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:166" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:166">166&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:167" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:167">167&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:168" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:168">168&nbsp;</a></td>
            <td class="code">// Pick up any new errors, but don't override uncleared existing errors</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:169" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:169">169&nbsp;</a></td>
            <td class="code">IF NOT bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:170" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:170">170&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError := fbStateMove.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:171" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:171">171&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId := fbStateMove.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:172" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:172">172&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage := fbStateMove.sErrorMessage;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:173" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:173">173&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:174" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:174">174&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:175" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:175">175&nbsp;</a></td>
            <td class="code">// Reset the setpoint and goal to 0&nbsp;if we're not doing anything</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:176" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:176">176&nbsp;</a></td>
            <td class="code">// because FB is waiting for a&nbsp;change from 0&nbsp;to "something"</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:177" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:177">177&nbsp;</a></td>
            <td class="code">bMoveRequested := bInnerExec AND NOT bDone;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:178" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:178">178&nbsp;</a></td>
            <td class="code">IF NOT bError AND NOT bNewGoal AND NOT bMoveRequested THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:179" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:179">179&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:180" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:180">180&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:181" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:181">181&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:182" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:182">182&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:183" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:183">183&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:184" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:184">184&nbsp;</a></td>
            <td class="code">// Bring inner reset back low at the end of the init cycle so that it can be triggered again later</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:185" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:185">185&nbsp;</a></td>
            <td class="code">IF NOT bInit THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:186" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:186">186&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:187" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:187">187&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:188" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:188">188&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:189" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:189">189&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:190" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:190">190&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#DUT_MotionStage">DUT_MotionStage</a></li>
    <li><a href="#DUT_PositionState">DUT_PositionState</a></li>
    <li><a href="#ENUM_MotionRequest">ENUM_MotionRequest</a></li>
    <li><a href="#FB_EpicsInOut">FB_EpicsInOut</a></li>
    <li><a href="#FB_PositionStateInternal">FB_PositionStateInternal</a></li>
    <li><a href="#FB_PositionStateMove">FB_PositionStateMove</a></li>
    <li><a href="#F_AtPositionState">F_AtPositionState</a></li>
</ul>

<h3>FB_PositionStateManager - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStateManager - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStateManager - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStateManager - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_StatePTPMove">FB_StatePTPMove</h2>
<img src="graphs/FB_StatePTPMove.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_StatePTPMove:1" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_StatePTPMove">FB_StatePTPMove</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:2" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:2">2&nbsp;</a></td>
            <td class="code">// Do not use, this is deprecated</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:3" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:4" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:5" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:6" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:7" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stPositionState: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:8" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:8">8&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:9" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:10" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: GO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:11" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:12" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:13" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:14" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:15" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:16" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:16">16&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:17" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bMoveOk: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:18" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:19" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:19">19&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:20" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage: <a class="coderef" href="#DUT_MotionStage">DUT_MotionStage</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:21" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:22" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:22">22&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:23" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:24" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: AT_STATE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:25" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:26" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:27" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:28" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:29" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bAtState: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:30" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:30">30&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:31" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:32" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: DMOV</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:33" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:34" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:35" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:36" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:37" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:38" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:38">38&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:39" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:40" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: BUSY</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:41" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:42" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:43" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:44" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:45" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:46" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:46">46&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:47" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:48" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:49" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:50" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:51" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:52" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:53" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:54" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:54">54&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:55" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:56" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERRMSG</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:57" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:58" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:59" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sError: STRING;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:60" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:60">60&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:61" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:61">61&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:62" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecTrig: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:63" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecEnd: F_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:64" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fActPosition: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:65" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fLowPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:66" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHighPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:67" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:67">67&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:68" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:68">68&nbsp;</a></td>
            <td class="code">bExecTrig(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:69" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:69">69&nbsp;</a></td>
            <td class="code">IF bExecTrig.Q AND bMoveOk THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:70" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT stMotionStage.bBusy AND NOT stMotionStage.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:71" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.bExecute := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:72" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.nCommand := <a class="coderef" href="#ENUM_EpicsMotorCmd">ENUM_EpicsMotorCmd</a>.MOVE_ABSOLUTE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:73" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fPosition := stPositionState.fPosition;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:74" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fVelocity := stPositionState.fVelocity;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:75" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fAcceleration := stPositionState.fAccel;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:76" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fDeceleration := stPositionState.fDecel;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:77" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:77">77&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:78" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:79" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:80" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:80">80&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:81" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:81">81&nbsp;</a></td>
            <td class="code">bError := stMotionStage.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:82" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:82">82&nbsp;</a></td>
            <td class="code">sError := stMotionStage.sErrorMessage;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:83" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:83">83&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:84" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:84">84&nbsp;</a></td>
            <td class="code">fActPosition := stMotionStage.stAxisStatus.fActPosition;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:85" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:85">85&nbsp;</a></td>
            <td class="code">fLowPos := stPositionState.fPosition -&nbsp;stPositionState.fDelta;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:86" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:86">86&nbsp;</a></td>
            <td class="code">fHighPos := stPositionState.fPosition +&nbsp;stPositionState.fDelta;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:87" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:87">87&nbsp;</a></td>
            <td class="code">IF (fLowPos <&nbsp;fActPosition) AND (fHighPos >&nbsp;fActPosition) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:88" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bAtState := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:89" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:89">89&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT stMotionStage.bBusy THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:90" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:90">90&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:91" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:91">91&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:92" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:92">92&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecute := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:93" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:93">93&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:94" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:94">94&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:95" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:95">95&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bAtState := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:96" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:96">96&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:97" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:97">97&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:98" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:98">98&nbsp;</a></td>
            <td class="code">bExecEnd(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:99" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:99">99&nbsp;</a></td>
            <td class="code">IF bExecEnd.Q AND bBusy THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:100" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.bExecute := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:101" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:101">101&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:102" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:102">102&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:103" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:103">103&nbsp;</a></td>
            <td class="code">IF NOT stMotionStage.bExecute OR NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:104" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:104">104&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:105" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:105">105&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:106" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:106">106&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:107" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:107">107&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:108" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:108">108&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:109" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:109">109&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#DUT_MotionStage">DUT_MotionStage</a></li>
    <li><a href="#DUT_PositionState">DUT_PositionState</a></li>
    <li><a href="#ENUM_EpicsMotorCmd">ENUM_EpicsMotorCmd</a></li>
</ul>

<h3>FB_StatePTPMove - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_StatePTPMove - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_StatePTPMove - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_StatePTPMove - Summary</h3>
<ul>
    <li>
    </li>
</ul>
