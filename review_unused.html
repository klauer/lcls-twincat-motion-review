<html>
<head>
    <script>
    </script>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

<div id="toc_container">
    <p class="toc_title">Contents</p>
    <ul class="toc_list">
        <li>
            <a href="#DUTs">DUTs</a>
             <ol>
                 <li><a href="#dutEL2521_Ctrl">dutEL2521_Ctrl</a></li>
                 <li><a href="#dutEL2521_Status">dutEL2521_Status</a></li>
             </ol>
        </li>
        <li>
            <a href="#GVLs">GVLs</a>
             <ol>
                 <li><a href="#Global_Version">Global_Version</a></li>
             </ol>
        </li>
        <li>
            <a href="#POUs">POUs</a>
             <ol>
                 <li><a href="#CheckDivLInt">CheckDivLInt</a></li>
                 <li><a href="#CheckDivLReal">CheckDivLReal</a></li>
                 <li><a href="#CheckDivReal">CheckDivReal</a></li>
                 <li><a href="#FB_CalculateFrequency_3702_v0_01">FB_CalculateFrequency_3702_v0_01</a></li>
                 <li><a href="#FB_EL1252ASM_v1_00">FB_EL1252ASM_v1_00</a></li>
                 <li><a href="#FB_EpicsInOut">FB_EpicsInOut</a></li>
                 <li><a href="#FB_HomeDirect">FB_HomeDirect</a></li>
                 <li><a href="#FB_HomeFinish">FB_HomeFinish</a></li>
                 <li><a href="#FB_HomePrepare">FB_HomePrepare</a></li>
                 <li><a href="#FB_HomeReadNcVelocities">FB_HomeReadNcVelocities</a></li>
                 <li><a href="#FB_HomeReadSoftLimEnable">FB_HomeReadSoftLimEnable</a></li>
                 <li><a href="#FB_HomeToSwitch">FB_HomeToSwitch</a></li>
                 <li><a href="#FB_HomeVirtual">FB_HomeVirtual</a></li>
                 <li><a href="#FB_HomeWriteNcVelocities">FB_HomeWriteNcVelocities</a></li>
                 <li><a href="#FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</a></li>
                 <li><a href="#FB_MicroStepCountTest">FB_MicroStepCountTest</a></li>
                 <li><a href="#FB_NcAxis">FB_NcAxis</a></li>
                 <li><a href="#FB_PositionStateManager">FB_PositionStateManager</a></li>
                 <li><a href="#FB_ReadParameterInNc_v1_00">FB_ReadParameterInNc_v1_00</a></li>
                 <li><a href="#FB_StatePTPMove">FB_StatePTPMove</a></li>
                 <li><a href="#FB_WriteFloatParameter">FB_WriteFloatParameter</a></li>
                 <li><a href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a></li>
             </ol>
        </li>
    </ul>
</div>

<h1>lcls-twincat-motion extras - unreviewed items</h1>

<h2 id="dutEL2521_Ctrl">dutEL2521_Ctrl</h2>

<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="dutEL2521_Ctrl:1" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:1">1&nbsp;</a></td>
            <td class="code">TYPE <a class="coderef" href="#dutEL2521_Ctrl">dutEL2521_Ctrl</a>&nbsp;:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:2" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:2">2&nbsp;</a></td>
            <td class="code">STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:3" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///The control word (CW) is located in the output process image, and is transmitted from the controller to the terminal.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:4" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.0&nbsp;FREQ_SEL 0bin /&nbsp;1bin &nbsp;Rapid change of the base frequency (only if the ramp function is inactive):</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:5" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///0bin = Base frequency 1&nbsp;(object 8001:02)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:6" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///1bin = Base frequency 2&nbsp;(object 8001:03) </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:7" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;FREQ_SEL: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:8" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.1&nbsp;RAMP_DIS 1bin Operation of the ramp function is cancelled, in spite of object 8000:06&nbsp;being active;&nbsp;if travel distance control is active, it is interrupted by this bit </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:9" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;RAMP_DIS: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:10" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.2&nbsp;GO_COUNTER 1bin &nbsp;If travel distance control is active (object 8000:0A), then a&nbsp;pre-set counter value is approached when the bit is set </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:11" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;GO_COUNTER: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:12" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///CW.5&nbsp;CNT_CLR 1bin The contents of the counter is cleared or set (object 8000:0B) by this bit. </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:13" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Any overflow or underflow bits that might be set are also cleared by this bit. </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:14" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///The process can be edge triggered or level triggered (object 8000:05). </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:15" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;CNT_CLR: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:16" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:16">16&nbsp;</a></td>
            <td class="code">END_STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Ctrl:17" class="lineid"><a class="unassuming-link" href="#dutEL2521_Ctrl:17">17&nbsp;</a></td>
            <td class="code">END_TYPE</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>dutEL2521_Ctrl - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Ctrl - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Ctrl - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Ctrl - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="dutEL2521_Status">dutEL2521_Status</h2>
<img src="graphs/dutEL2521_Status.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="dutEL2521_Status:1" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:1">1&nbsp;</a></td>
            <td class="code">TYPE <a class="coderef" href="#dutEL2521_Status">dutEL2521_Status</a>&nbsp;:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:2" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:2">2&nbsp;</a></td>
            <td class="code">STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:3" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///The status word (SW) is located in the input process image, and is transmitted from the terminal to the controller.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:4" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.0&nbsp;SEL_ACK/END_COUNTER 1bin &nbsp;Confirms the change of base frequency. At activated travel distance control: target counter value reached </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:5" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;SEL_ACK: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:6" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.1&nbsp;RAMP_ACTIVE 1bin Ramp is currently being followed </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:7" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;RAMP_ACTIVE: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:8" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.2&nbsp;UNDERFLOW 1bin This bit is set if the 16-bit counter underflows (0&nbsp;->&nbsp;65535). It is reset when the counter drops below two thirds of its measuring range (43690&nbsp;->&nbsp;43689) or immediately an overflow occurs. </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:9" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;UNDERFLOW: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:10" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.3&nbsp;OVERFLOW 1bin This bit is set if the 16-bit counter overflows (65535&nbsp;->&nbsp;0). It is reset when the counter exceeds one third of its measuring range (21845&nbsp;->&nbsp;21846) or immediately an underflow occurs </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:11" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;OVERFLOW: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:12" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.4&nbsp;INPUT_T 1bin Status of INPUT_T </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:13" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;INPUT_T: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:14" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.5&nbsp;INPUT_Z 1bin Status of INPUT_Z </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:15" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;INPUT_Z: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:16" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///SW.6&nbsp;ERROR 1bin General error bit, included with overflow/underflow </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:17" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ERROR: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:18" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:18">18&nbsp;</a></td>
            <td class="code">END_STRUCT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="dutEL2521_Status:19" class="lineid"><a class="unassuming-link" href="#dutEL2521_Status:19">19&nbsp;</a></td>
            <td class="code">END_TYPE</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>dutEL2521_Status - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Status - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Status - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>dutEL2521_Status - Summary</h3>
<ul>
    <li>
    </li>
</ul>

</body>


<h2 id="Global_Version">Global_Version</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="Global_Version:1" class="lineid"><a class="unassuming-link" href="#Global_Version:1">1&nbsp;</a></td>
            <td class="code">{attribute 'TcGenerated'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:2" class="lineid"><a class="unassuming-link" href="#Global_Version:2">2&nbsp;</a></td>
            <td class="code">// This function has been automatically generated from the project information.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:3" class="lineid"><a class="unassuming-link" href="#Global_Version:3">3&nbsp;</a></td>
            <td class="code">VAR_GLOBAL CONSTANT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:4" class="lineid"><a class="unassuming-link" href="#Global_Version:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'const_non_replaced'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:5" class="lineid"><a class="unassuming-link" href="#Global_Version:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'linkalways'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:6" class="lineid"><a class="unassuming-link" href="#Global_Version:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stLibVersion_lcls_twincat_motion : ST_LibVersion := (iMajor := 0, iMinor := 0, iBuild := 0, iRevision := 0, sVersion := '0.0.0');</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="Global_Version:7" class="lineid"><a class="unassuming-link" href="#Global_Version:7">7&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>Global_Version - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>Global_Version - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>Global_Version - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>Global_Version - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="CheckDivLInt">CheckDivLInt</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="CheckDivLInt:1" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:1">1&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;DO NOT EDIT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:2" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:2">2&nbsp;</a></td>
            <td class="code">FUNCTION <a class="coderef" href="#CheckDivLInt">CheckDivLInt</a>&nbsp;: LINT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:3" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:4" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;divisor:LINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:5" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:6" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:6">6&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;Only an Implementation suggestion</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:7" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:7">7&nbsp;</a></td>
            <td class="code">{noflow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:8" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:8">8&nbsp;</a></td>
            <td class="code">IF divisor =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:9" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLInt">CheckDivLInt</a>:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:10" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:10">10&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:11" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLInt">CheckDivLInt</a>:=divisor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:12" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:12">12&nbsp;</a></td>
            <td class="code">END_IF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:13" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:13">13&nbsp;</a></td>
            <td class="code">{flow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:14" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:14">14&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLInt:15" class="lineid"><a class="unassuming-link" href="#CheckDivLInt:15">15&nbsp;</a></td>
            <td class="code">END_FUNCTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>CheckDivLInt - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLInt - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLInt - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLInt - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="CheckDivLReal">CheckDivLReal</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="CheckDivLReal:1" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:1">1&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;DO NOT EDIT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:2" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:2">2&nbsp;</a></td>
            <td class="code">FUNCTION <a class="coderef" href="#CheckDivLReal">CheckDivLReal</a>&nbsp;: LREAL</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:3" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:4" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;divisor:LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:5" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:6" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:6">6&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;Only an Implementation suggestion</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:7" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:7">7&nbsp;</a></td>
            <td class="code">{noflow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:8" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:8">8&nbsp;</a></td>
            <td class="code">IF divisor =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:9" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLReal">CheckDivLReal</a>:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:10" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:10">10&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:11" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivLReal">CheckDivLReal</a>:=divisor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:12" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:12">12&nbsp;</a></td>
            <td class="code">END_IF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:13" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:13">13&nbsp;</a></td>
            <td class="code">{flow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:14" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:14">14&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivLReal:15" class="lineid"><a class="unassuming-link" href="#CheckDivLReal:15">15&nbsp;</a></td>
            <td class="code">END_FUNCTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>CheckDivLReal - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLReal - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLReal - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivLReal - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="CheckDivReal">CheckDivReal</h2>


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="CheckDivReal:1" class="lineid"><a class="unassuming-link" href="#CheckDivReal:1">1&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;DO NOT EDIT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:2" class="lineid"><a class="unassuming-link" href="#CheckDivReal:2">2&nbsp;</a></td>
            <td class="code">FUNCTION <a class="coderef" href="#CheckDivReal">CheckDivReal</a>&nbsp;: REAL</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:3" class="lineid"><a class="unassuming-link" href="#CheckDivReal:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:4" class="lineid"><a class="unassuming-link" href="#CheckDivReal:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;divisor:REAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:5" class="lineid"><a class="unassuming-link" href="#CheckDivReal:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:6" class="lineid"><a class="unassuming-link" href="#CheckDivReal:6">6&nbsp;</a></td>
            <td class="code">// Implicitly generated code :&nbsp;Only an Implementation suggestion</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:7" class="lineid"><a class="unassuming-link" href="#CheckDivReal:7">7&nbsp;</a></td>
            <td class="code">{noflow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:8" class="lineid"><a class="unassuming-link" href="#CheckDivReal:8">8&nbsp;</a></td>
            <td class="code">IF divisor =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:9" class="lineid"><a class="unassuming-link" href="#CheckDivReal:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivReal">CheckDivReal</a>:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:10" class="lineid"><a class="unassuming-link" href="#CheckDivReal:10">10&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:11" class="lineid"><a class="unassuming-link" href="#CheckDivReal:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;<a class="coderef" href="#CheckDivReal">CheckDivReal</a>:=divisor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:12" class="lineid"><a class="unassuming-link" href="#CheckDivReal:12">12&nbsp;</a></td>
            <td class="code">END_IF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:13" class="lineid"><a class="unassuming-link" href="#CheckDivReal:13">13&nbsp;</a></td>
            <td class="code">{flow}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:14" class="lineid"><a class="unassuming-link" href="#CheckDivReal:14">14&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="CheckDivReal:15" class="lineid"><a class="unassuming-link" href="#CheckDivReal:15">15&nbsp;</a></td>
            <td class="code">END_FUNCTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>CheckDivReal - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivReal - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivReal - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>CheckDivReal - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_CalculateFrequency_3702_v0_01">FB_CalculateFrequency_3702_v0_01</h2>

<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:1" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_CalculateFrequency_3702_v0_01">FB_CalculateFrequency_3702_v0_01</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:2" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:2">2&nbsp;</a></td>
            <td class="code">VAR CONSTANT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:3" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///200&nbsp;samples/period</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:4" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;cBufferSize: INT := 1000;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:5" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:5">5&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:6" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:6">6&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:7" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:8" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bCalculate: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:9" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;aBufferValue: ARRAY[0..(cBuffersize -&nbsp;1)] OF INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:10" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;aBufferDcTime: ARRAY[0..(cBuffersize -&nbsp;1)] OF UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:11" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///If curve has a&nbsp;DC offset</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:12" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDCOffset: INT := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:13" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:13">13&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:14" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:14">14&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:15" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:16" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:17" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fActFrequency: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:18" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:19" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:20" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndex: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:21" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nFirstZeroCrossing: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:22" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nLastZeroCrossing: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:23" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeFirst: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:24" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeLast: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:25" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeRes: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:26" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nCrossings: INT := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:27" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:27">27&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:28" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:28">28&nbsp;</a></td>
            <td class="code">VAR_TEMP</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:29" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rRange: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:30" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rTimeSpan: REAL := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:31" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:31">31&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:32" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:32">32&nbsp;</a></td>
            <td class="code">EnO:=En;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:33" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:33">33&nbsp;</a></td>
            <td class="code">bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:34" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:34">34&nbsp;</a></td>
            <td class="code">nCrossings:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:35" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:35">35&nbsp;</a></td>
            <td class="code">IF En AND bCalculate THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:36" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;//Serach for crossings of nDCOffset</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:37" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;FOR nIndex:=1&nbsp;TO cBuffersize-1&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:38" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF((aBufferValue[nIndex]>nDCOffset AND aBufferValue[nIndex-1]<=nDCOffset) OR (aBufferValue[nIndex]<nDCOffset AND aBufferValue[nIndex-1]>=nDCOffset)) &nbsp;&nbsp;&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:39" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF(nCrossings=0) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:40" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nFirstZeroCrossing:=nIndex;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:41" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:42" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nLastZeroCrossing:=nIndex;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:43" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nCrossings:=nCrossings+1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:44" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:45" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_FOR  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:46" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:47" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF nFirstZeroCrossing <&nbsp;nLastZeroCrossing &nbsp;AND &nbsp;nCrossings>2&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:48" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//interpolate zero crossings for higher accuracy</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:49" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeRes:=UDINT_TO_REAL(aBufferDcTime[1]-aBufferDcTime[0]);&nbsp;//Buffer must contain more than 2&nbsp;values</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:50" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rRange:=INT_TO_REAL(ABS(aBufferValue[nFirstZeroCrossing-1]-aBufferValue[nFirstZeroCrossing]));</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:51" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeFirst:=UDINT_TO_REAL( aBufferDcTime[nFirstZeroCrossing-1])+ABS(INT_TO_REAL(aBufferValue[nFirstZeroCrossing-1])/rRange*rTimeRes);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:52" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rRange:=INT_TO_REAL(ABS(aBufferValue[nLastZeroCrossing-1]-aBufferValue[nLastZeroCrossing]));</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:53" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeLast:=UDINT_TO_REAL( aBufferDcTime[nLastZeroCrossing-1])+ABS(INT_TO_REAL(aBufferValue[nLastZeroCrossing-1])/rRange*rTimeRes);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:54" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:54">54&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:55" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Time span first to last (considering that max one time counter overflow have occured in the total time range of the time buffer) &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:56" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF rTimeFirst<rTimeLast THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:57" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeSpan:=rTimeLast-rTimeFirst;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:58" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE //overflow of counter once (only 32bit timestamp =4.29seconds)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:59" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rTimeSpan:=4294967296.0-rTimeFirst+rTimeLast;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:60" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:61" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:61">61&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:62" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fActFrequency:=1000000000.0/rTimeSpan*(nCrossings-1)/2;&nbsp;//two crossings per period =>&nbsp;Average frequency over buffer.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:63" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:64" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fActFrequency:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:65" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:66" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:66">66&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:67" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:67">67&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_CalculateFrequency_3702_v0_01:68" class="lineid"><a class="unassuming-link" href="#FB_CalculateFrequency_3702_v0_01:68">68&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_CalculateFrequency_3702_v0_01 - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_CalculateFrequency_3702_v0_01 - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_CalculateFrequency_3702_v0_01 - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_CalculateFrequency_3702_v0_01 - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_EL1252ASM_v1_00">FB_EL1252ASM_v1_00</h2>
<img src="graphs/FB_EL1252ASM_v1_00.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_EL1252ASM_v1_00:1" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_EL1252ASM_v1_00">FB_EL1252ASM_v1_00</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:2" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:3" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:4" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:4">4&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:5" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:5">5&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:6" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:7" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_1: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:8" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_2: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:9" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimePos: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:10" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimePos: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:11" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimeNeg: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:12" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimeNeg: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:13" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Below bits can be used but then they must be enabled in the COE of the card. Nicklas suggested to not use these (since something wss written that you then only were allowed to read the latch time onece (some kkind of auto reset??)) &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:14" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Di_1_LatchNeg:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:15" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Di_1_LatchPos:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:16" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Di_2_LatchNeg:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:17" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Di_2_LatchPos:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:18" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Error: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:19" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:19">19&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:20" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:20">20&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:21" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Channel_1_Input AT %I*: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:22" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Channel_2_Input AT %I*: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:23" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///Latch_Status1&nbsp;AT %I*: USINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:24" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///  &nbsp;&nbsp;Latch_Status2&nbsp;AT %I*: USINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:25" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchPos1&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:26" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchNeg1&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:27" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchPos2&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:28" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Latch_LatchNeg2&nbsp;AT %I*: ULINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:29" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;WcState_WcState AT %I*: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:30" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;InfoData_State AT %I*: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:31" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:31">31&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:32" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:32">32&nbsp;</a></td>
            <td class="code">EnO:=En;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:33" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:33">33&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:34" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:34">34&nbsp;</a></td>
            <td class="code">IF En AND (WcState_WcState OR InfoData_State<>16#8) THEN //InfoData_State==0&nbsp;=>&nbsp;in OP mode</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:35" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Error:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:36" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:36">36&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:37" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Error:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:38" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:38">38&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:39" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:39">39&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:40" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:40">40&nbsp;</a></td>
            <td class="code">IF En THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:41" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF Error=FALSE THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:42" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1:=Channel_1_Input;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:43" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2:=Channel_2_Input;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:44" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;(*  &nbsp;&nbsp;Di_1_LatchPos:=Latch_Status1.0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:45" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchNeg:=Latch_Status1.1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:46" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchPos:=Latch_Status2.0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:47" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchNeg:=Latch_Status2.1;*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:48" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimePos:=Latch_LatchPos1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:49" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimePos:=Latch_LatchPos2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:50" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1_LatchTimeNeg:=Latch_LatchNeg1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:51" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2_LatchTimeNeg:=Latch_LatchNeg2;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:52" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:53" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:54" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_1:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:55" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Di_2:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:56" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:57" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:57">57&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:58" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:58">58&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EL1252ASM_v1_00:59" class="lineid"><a class="unassuming-link" href="#FB_EL1252ASM_v1_00:59">59&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_EL1252ASM_v1_00 - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EL1252ASM_v1_00 - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EL1252ASM_v1_00 - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EL1252ASM_v1_00 - Summary</h3>
<ul>
    <li>
    </li>
</ul>

<h2 id="FB_EpicsInOut">FB_EpicsInOut</h2>
<img src="graphs/FB_EpicsInOut.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_EpicsInOut:1" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_EpicsInOut">FB_EpicsInOut</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:2" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:2">2&nbsp;</a></td>
            <td class="code">// Example usage of <a class="coderef" href="#FB_PositionStateManager">FB_PositionStateManager</a>&nbsp;for a&nbsp;simple IN/OUT axis. See NOTE: comments.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:3" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:3">3&nbsp;</a></td>
            <td class="code">// Also usable as a&nbsp;drop-in for these cases (no need to roll your own in/out)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:4" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:4">4&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:5" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Motor to apply states to</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:6" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage: <a class="coderef" href="#DUT_MotionStage">DUT_MotionStage</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:7" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Information about the OUT position</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:8" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stOut: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;&nbsp;// NOTE: Do not pragma these, let it happen in the manager.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:9" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Information about the IN parameter</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:10" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stIn: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:11" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:11">11&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:12" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:12">12&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:13" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, the motor will be moved when enumSet is changed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:14" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bEnable: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:15" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// When changed, sets the destination and starts a&nbsp;move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:16" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:17" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: SET</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:18" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:19" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:20" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;enumSet: <a class="coderef" href="#ENUM_EpicsInOut">ENUM_EpicsInOut</a>;&nbsp;// NOTE: Please copy this pragma exactly on your enumSet</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:21" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:22" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:22">22&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:23" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are in an error state</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:24" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;&nbsp;// NOTE: do not pragma these, already has pragma in manager</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:25" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Error code</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:26" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:27" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Message associated with bError =&nbsp;TRUE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:28" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage: STRING;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:29" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are currently moving between states</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:30" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:31" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we asked for a&nbsp;move between states, it completed successfully, and there is no ongoing move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:32" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:33" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The current state readback</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:34" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:35" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: GET</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:36" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:37" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:38" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;enumGet: <a class="coderef" href="#ENUM_EpicsInOut">ENUM_EpicsInOut</a>;&nbsp;// NOTE: Please copy this pragma exactly on your enumGet</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:39" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:39">39&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:40" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:40">40&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:41" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:42" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrStates: ARRAY[1..15] OF <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:43" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:43">43&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:44" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:45" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:46" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:47" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:48" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbStateManager: <a class="coderef" href="#FB_PositionStateManager">FB_PositionStateManager</a>;&nbsp;// NOTE: Please copy this pragma exactly to pick up the standard PVs</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:49" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:49">49&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:50" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:50">50&nbsp;</a></td>
            <td class="code">// Fist cycle setup</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:51" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:51">51&nbsp;</a></td>
            <td class="code">IF NOT bInit THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:52" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stOut.sName := 'OUT';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:53" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stIn.sName := 'IN';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:54" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:55" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:55">55&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:56" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:56">56&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:57" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:57">57&nbsp;</a></td>
            <td class="code">// Stuff first two values of the 15&nbsp;element array for the manager</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:58" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:58">58&nbsp;</a></td>
            <td class="code">arrStates[1] := stOut;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:59" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:59">59&nbsp;</a></td>
            <td class="code">arrStates[2] := stIn;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:60" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:60">60&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:61" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:61">61&nbsp;</a></td>
            <td class="code">// Call the function block every cycle</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:62" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:62">62&nbsp;</a></td>
            <td class="code">fbStateManager(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:63" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage := stMotionStage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:64" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrStates := arrStates,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:65" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState := enumSet,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:66" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bEnable := bEnable,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:67" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError =>&nbsp;bError,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:68" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId =>&nbsp;nErrorId,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:69" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage =>&nbsp;sErrorMessage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:70" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy =>&nbsp;bBusy,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:71" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone =>&nbsp;bDone,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:72" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;getState =>&nbsp;enumGet);&nbsp;// Cannot do this assignment if enumGet has attribute strict</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:73" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:73">73&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_EpicsInOut:74" class="lineid"><a class="unassuming-link" href="#FB_EpicsInOut:74">74&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#DUT_MotionStage">DUT_MotionStage</a></li>
    <li><a href="#DUT_PositionState">DUT_PositionState</a></li>
    <li><a href="#ENUM_EpicsInOut">ENUM_EpicsInOut</a></li>
    <li><a href="#FB_PositionStateManager">FB_PositionStateManager</a></li>
</ul>

<h3>FB_EpicsInOut - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EpicsInOut - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EpicsInOut - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_EpicsInOut - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_PositionStateManager">FB_PositionStateManager</h2>
<img src="graphs/FB_PositionStateManager.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_PositionStateManager:1" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_PositionStateManager">FB_PositionStateManager</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:2" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:2">2&nbsp;</a></td>
            <td class="code">(*</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:3" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Handles EPICS moves between multiple states for a&nbsp;single axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:4" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Should be wrapped inside a&nbsp;block with enums for states,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:5" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;see <a class="coderef" href="#FB_EpicsInOut">FB_EpicsInOut</a>&nbsp;for an example.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:6" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:6">6&nbsp;</a></td>
            <td class="code">*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:7" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:7">7&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:8" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Motor to move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:9" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage: <a class="coderef" href="#DUT_MotionStage">DUT_MotionStage</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:10" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:10">10&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:11" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Allocated space for 15&nbsp;states besides Unknown (16&nbsp;is the max for an EPICS MBBI)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:12" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:13" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:14" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:15" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand: %.2d</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:16" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:17" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrStates: ARRAY[1..15] OF <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:18" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:18">18&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:19" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Corresponding arrStates index to move to, or 0&nbsp;if no move selected</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:20" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:21" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:22" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:22">22&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:23" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, start a&nbsp;move when setState transitions to a&nbsp;nonzero number</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:24" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bEnable: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:25" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// On rising edge, reset this FB</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:26" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:27" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: RESET</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:28" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:29" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:30" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:31" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:32" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:33" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:33">33&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:34" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:34">34&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:35" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, there is an error</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:36" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:37" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:38" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:39" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:40" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:41" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:42" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:43" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Error ID</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:44" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:45" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERRID</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:46" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:47" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:48" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:49" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The error that caused bError to flip TRUE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:50" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:51" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERRMSG</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:52" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:53" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:54" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage: STRING;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:55" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are moving the motor</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:56" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:57" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: BUSY</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:58" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:59" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:60" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:61" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:61">61&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:62" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:63" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// If TRUE, we are not moving the motor and the last move completed successfully</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:64" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:65" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: DONE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:66" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: i</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:67" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:68" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:69" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:70" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:71" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:71">71&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:72" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The current position we are trying to reach, or 0</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:73" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:74" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// The readback position</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:75" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;getState: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:76" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:76">76&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:77" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:77">77&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:78" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:79" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stUnknown: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:80" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:80">80&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stGoal: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:81" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:81">81&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbStateMove: <a class="coderef" href="#FB_PositionStateMove">FB_PositionStateMove</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:82" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbStateInternal: ARRAY[1..15] OF <a class="coderef" href="#FB_PositionStateInternal">FB_PositionStateInternal</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:83" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndex: INT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:84" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:85" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:86" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:86">86&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:87" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:87">87&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;rtReset: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:88" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bMoveRequested: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:89" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:89">89&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:90" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:90">90&nbsp;</a></td>
            <td class="code">// Reset just goes through the first-cycle init again</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:91" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:91">91&nbsp;</a></td>
            <td class="code">rtReset(CLK:=bReset);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:92" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:92">92&nbsp;</a></td>
            <td class="code">IF rtReset.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:93" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:93">93&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:94" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:94">94&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:95" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:95">95&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:96" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:96">96&nbsp;</a></td>
            <td class="code">// First-cycle init</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:97" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:97">97&nbsp;</a></td>
            <td class="code">IF NOT bInit THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:98" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:98">98&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:99" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:99">99&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage := '';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:100" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:101" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:101">101&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:102" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:102">102&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:103" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:103">103&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:104" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:104">104&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:105" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:105">105&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:106" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:106">106&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:107" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:107">107&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:108" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:108">108&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:109" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:109">109&nbsp;</a></td>
            <td class="code">// All state internal handlers</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:110" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:110">110&nbsp;</a></td>
            <td class="code">FOR nIndex := 1&nbsp;TO 15&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:111" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:111">111&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF arrStates[nIndex].bValid THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:112" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:112">112&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbStateInternal[nIndex](</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:113" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:113">113&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage:=stMotionStage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:114" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:114">114&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stPositionState:=arrStates[nIndex]);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:115" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:115">115&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:116" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:116">116&nbsp;</a></td>
            <td class="code">END_FOR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:117" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:117">117&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:118" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:118">118&nbsp;</a></td>
            <td class="code">// Check where we are by going through all possible states.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:119" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:119">119&nbsp;</a></td>
            <td class="code">// Note this favors the highest-number state that we're at, it's up to you to make your states mutually exclusive.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:120" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:120">120&nbsp;</a></td>
            <td class="code">getState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:121" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:121">121&nbsp;</a></td>
            <td class="code">FOR nIndex := 1&nbsp;TO 15&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:122" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:122">122&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF <a class="coderef" href="#F_AtPositionState">F_AtPositionState</a>(stMotionStage:=stMotionStage, stPositionState:=arrStates[nIndex]) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:123" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:123">123&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getState := nIndex;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:124" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:124">124&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:125" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:125">125&nbsp;</a></td>
            <td class="code">END_FOR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:126" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:126">126&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:127" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:127">127&nbsp;</a></td>
            <td class="code">// Use the changing set pv as a&nbsp;rising-edge trigger</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:128" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:128">128&nbsp;</a></td>
            <td class="code">IF setState <>&nbsp;goalState THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:129" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:129">129&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState := setState;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:130" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:130">130&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:131" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:131">131&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:132" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:132">132&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:133" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:133">133&nbsp;</a></td>
            <td class="code">// Special move handling for error/enable state</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:134" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:134">134&nbsp;</a></td>
            <td class="code">IF bError OR NOT bEnable THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:135" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:135">135&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:136" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:136">136&nbsp;</a></td>
            <td class="code">// Reset inner block this cycle if we were already moving but want a&nbsp;new move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:137" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:137">137&nbsp;</a></td>
            <td class="code">ELSIF bInnerExec AND bNewGoal THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:138" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:138">138&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:139" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:139">139&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:140" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:140">140&nbsp;</a></td>
            <td class="code">// If we hit this branch, we're starting a&nbsp;new move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:141" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:141">141&nbsp;</a></td>
            <td class="code">ELSIF bNewGoal THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:142" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:142">142&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:143" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:143">143&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:144" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:144">144&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bNewGoal := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:145" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:145">145&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:146" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:146">146&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:147" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:147">147&nbsp;</a></td>
            <td class="code">// Pick the correct goal structure or Unknown</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:148" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:148">148&nbsp;</a></td>
            <td class="code">IF goalState =&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:149" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:149">149&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stGoal := stUnknown;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:150" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:150">150&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:151" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:151">151&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stGoal := arrStates[goalState];</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:152" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:152">152&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:153" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:153">153&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:154" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:154">154&nbsp;</a></td>
            <td class="code">// Do the move</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:155" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:155">155&nbsp;</a></td>
            <td class="code">fbStateMove(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:156" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:156">156&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage := stMotionStage,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:157" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:157">157&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stPositionState := stGoal,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:158" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:158">158&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute := bInnerExec,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:159" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:159">159&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset := bInnerReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:160" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:160">160&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;enumMotionRequest := <a class="coderef" href="#ENUM_MotionRequest">ENUM_MotionRequest</a>.INTERRUPT,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:161" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:161">161&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy =>&nbsp;bBusy);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:162" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:162">162&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:163" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:163">163&nbsp;</a></td>
            <td class="code">// Only pass up bDone information if this FB is active</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:164" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:164">164&nbsp;</a></td>
            <td class="code">IF bInnerExec THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:165" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:165">165&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone := fbStateMove.bDone;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:166" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:166">166&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:167" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:167">167&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:168" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:168">168&nbsp;</a></td>
            <td class="code">// Pick up any new errors, but don't override uncleared existing errors</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:169" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:169">169&nbsp;</a></td>
            <td class="code">IF NOT bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:170" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:170">170&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError := fbStateMove.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:171" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:171">171&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId := fbStateMove.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:172" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:172">172&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sErrorMessage := fbStateMove.sErrorMessage;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:173" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:173">173&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:174" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:174">174&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:175" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:175">175&nbsp;</a></td>
            <td class="code">// Reset the setpoint and goal to 0&nbsp;if we're not doing anything</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:176" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:176">176&nbsp;</a></td>
            <td class="code">// because FB is waiting for a&nbsp;change from 0&nbsp;to "something"</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:177" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:177">177&nbsp;</a></td>
            <td class="code">bMoveRequested := bInnerExec AND NOT bDone;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:178" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:178">178&nbsp;</a></td>
            <td class="code">IF NOT bError AND NOT bNewGoal AND NOT bMoveRequested THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:179" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:179">179&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;setState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:180" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:180">180&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;goalState := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:181" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:181">181&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerExec := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:182" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:182">182&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:183" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:183">183&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:184" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:184">184&nbsp;</a></td>
            <td class="code">// Bring inner reset back low at the end of the init cycle so that it can be triggered again later</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:185" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:185">185&nbsp;</a></td>
            <td class="code">IF NOT bInit THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:186" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:186">186&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInit := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:187" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:187">187&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bInnerReset := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:188" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:188">188&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:189" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:189">189&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStateManager:190" class="lineid"><a class="unassuming-link" href="#FB_PositionStateManager:190">190&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#DUT_MotionStage">DUT_MotionStage</a></li>
    <li><a href="#DUT_PositionState">DUT_PositionState</a></li>
    <li><a href="#ENUM_MotionRequest">ENUM_MotionRequest</a></li>
    <li><a href="#FB_EpicsInOut">FB_EpicsInOut</a></li>
    <li><a href="#FB_PositionStateInternal">FB_PositionStateInternal</a></li>
    <li><a href="#FB_PositionStateMove">FB_PositionStateMove</a></li>
    <li><a href="#F_AtPositionState">F_AtPositionState</a></li>
</ul>

<h3>FB_PositionStateManager - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStateManager - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStateManager - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStateManager - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_StatePTPMove">FB_StatePTPMove</h2>
<img src="graphs/FB_StatePTPMove.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_StatePTPMove:1" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_StatePTPMove">FB_StatePTPMove</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:2" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:2">2&nbsp;</a></td>
            <td class="code">// Do not use, this is deprecated</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:3" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:3">3&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:4" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:5" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:6" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:7" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stPositionState: <a class="coderef" href="#DUT_PositionState">DUT_PositionState</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:8" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:8">8&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:9" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:10" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: GO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:11" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: io</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:12" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:13" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:14" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:15" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:16" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:16">16&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:17" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bMoveOk: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:18" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:19" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:19">19&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:20" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage: <a class="coderef" href="#DUT_MotionStage">DUT_MotionStage</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:21" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:22" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:22">22&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:23" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:24" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: AT_STATE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:25" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:26" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:27" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:28" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:29" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bAtState: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:30" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:30">30&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:31" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:32" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: DMOV</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:33" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:34" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:35" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:36" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:37" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:38" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:38">38&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:39" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:40" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: BUSY</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:41" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:42" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:43" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:44" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:45" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:46" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:46">46&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:47" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:48" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:49" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:50" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ZNAM False</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:51" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field: ONAM True</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:52" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:53" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:54" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:54">54&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:55" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;{attribute 'pytmc' := '</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:56" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pv: ERRMSG</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:57" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;io: input</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:58" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;'}</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:59" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sError: STRING;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:60" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:60">60&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:61" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:61">61&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:62" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecTrig: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:63" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecEnd: F_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:64" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fActPosition: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:65" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fLowPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:66" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHighPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:67" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:67">67&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:68" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:68">68&nbsp;</a></td>
            <td class="code">bExecTrig(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:69" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:69">69&nbsp;</a></td>
            <td class="code">IF bExecTrig.Q AND bMoveOk THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:70" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT stMotionStage.bBusy AND NOT stMotionStage.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:71" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.bExecute := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:72" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.nCommand := <a class="coderef" href="#ENUM_EpicsMotorCmd">ENUM_EpicsMotorCmd</a>.MOVE_ABSOLUTE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:73" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fPosition := stPositionState.fPosition;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:74" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fVelocity := stPositionState.fVelocity;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:75" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fAcceleration := stPositionState.fAccel;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:76" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.fDeceleration := stPositionState.fDecel;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:77" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:77">77&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:78" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:79" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:80" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:80">80&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:81" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:81">81&nbsp;</a></td>
            <td class="code">bError := stMotionStage.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:82" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:82">82&nbsp;</a></td>
            <td class="code">sError := stMotionStage.sErrorMessage;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:83" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:83">83&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:84" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:84">84&nbsp;</a></td>
            <td class="code">fActPosition := stMotionStage.stAxisStatus.fActPosition;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:85" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:85">85&nbsp;</a></td>
            <td class="code">fLowPos := stPositionState.fPosition -&nbsp;stPositionState.fDelta;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:86" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:86">86&nbsp;</a></td>
            <td class="code">fHighPos := stPositionState.fPosition +&nbsp;stPositionState.fDelta;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:87" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:87">87&nbsp;</a></td>
            <td class="code">IF (fLowPos <&nbsp;fActPosition) AND (fHighPos >&nbsp;fActPosition) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:88" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bAtState := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:89" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:89">89&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT stMotionStage.bBusy THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:90" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:90">90&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:91" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:91">91&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:92" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:92">92&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecute := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:93" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:93">93&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:94" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:94">94&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:95" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:95">95&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bAtState := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:96" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:96">96&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:97" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:97">97&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:98" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:98">98&nbsp;</a></td>
            <td class="code">bExecEnd(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:99" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:99">99&nbsp;</a></td>
            <td class="code">IF bExecEnd.Q AND bBusy THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:100" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;stMotionStage.bExecute := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:101" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:101">101&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:102" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:102">102&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:103" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:103">103&nbsp;</a></td>
            <td class="code">IF NOT stMotionStage.bExecute OR NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:104" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:104">104&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone := TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:105" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:105">105&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:106" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:106">106&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:107" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:107">107&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:108" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:108">108&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_StatePTPMove:109" class="lineid"><a class="unassuming-link" href="#FB_StatePTPMove:109">109&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#DUT_MotionStage">DUT_MotionStage</a></li>
    <li><a href="#DUT_PositionState">DUT_PositionState</a></li>
    <li><a href="#ENUM_EpicsMotorCmd">ENUM_EpicsMotorCmd</a></li>
</ul>

<h3>FB_StatePTPMove - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_StatePTPMove - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_StatePTPMove - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_StatePTPMove - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeDirect">FB_HomeDirect</h2>
<img src="graphs/FB_HomeDirect.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeDirect:1" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeDirect">FB_HomeDirect</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:2" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:3" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:4" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:5" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:6" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHomePosition:LREAL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:7" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:7">7&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:8" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:8">8&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:9" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:10" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:10">10&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:11" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:11">11&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:12" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:13" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:14" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:15" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bHomed:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:16" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:17" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:18" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:19" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:20" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHome: MC_Home;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:21" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:22" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:22">22&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:23" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:23">23&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:24" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:25" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:26" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:26">26&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:27" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:27">27&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:28" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:28">28&nbsp;</a></td>
            <td class="code">fbHome(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:29" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Execute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:30" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Position:=fHomePosition,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:31" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;HomingMode:=MC_Direct,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:32" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bCalibrationCam:=FALSE,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:33" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:34" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:35" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:36" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:36">36&nbsp;</a></td>
            <td class="code">bBusy:=fbHome.Busy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:37" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:37">37&nbsp;</a></td>
            <td class="code">bDone:=fbHome.Done;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:38" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:38">38&nbsp;</a></td>
            <td class="code">bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:39" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:39">39&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:40" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:40">40&nbsp;</a></td>
            <td class="code">bError:=fbHome.Error;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:41" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:41">41&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:42" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:42">42&nbsp;</a></td>
            <td class="code">IF fbHome.Error THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:43" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbHome.ErrorID;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:44" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:44">44&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:45" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:45">45&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeDirect:46" class="lineid"><a class="unassuming-link" href="#FB_HomeDirect:46">46&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_HomeDirect - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeDirect - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeDirect - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeDirect - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeFinish">FB_HomeFinish</h2>
<img src="graphs/FB_HomeFinish.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeFinish:1" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeFinish">FB_HomeFinish</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:2" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:3" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:4" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:5" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:6" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nCmdData: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:7" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableLow: BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:8" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableHigh: BOOL:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:9" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:9">9&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:10" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:10">10&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:11" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:12" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:12">12&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:13" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:13">13&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:14" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:15" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:16" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:17" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:18" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:19" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:19">19&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:20" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:20">20&nbsp;</a></td>
            <td class="code">VAR  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:21" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomewriteSoftLimEnable:<a class="coderef" href="#FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</a>;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:22" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbExecuteRiseEdge: R_TRIG;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:23" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteWriteNC:BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:24" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nState:INT:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:25" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:25">25&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:26" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:26">26&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:27" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:27">27&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:28" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:29" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:30" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:30">30&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:31" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:31">31&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:32" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:32">32&nbsp;</a></td>
            <td class="code">IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:33" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteWriteNC:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:34" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fbHomewriteSoftLimEnable.bSofLimEnableLow:=bSofLimEnableLow;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:35" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fbHomewriteSoftLimEnable.bSofLimEnableHigh:=bSofLimEnableHigh;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:36" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:37" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:37">37&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:38" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:38">38&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:39" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:39">39&nbsp;</a></td>
            <td class="code">fbExecuteRiseEdge(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:40" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:40">40&nbsp;</a></td>
            <td class="code">IF fbExecuteRiseEdge.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:41" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteWriteNC:=TRUE;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:42" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fbHomewriteSoftLimEnable.bSofLimEnableLow:=bSofLimEnableLow;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:43" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fbHomewriteSoftLimEnable.bSofLimEnableHigh:=bSofLimEnableHigh;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:44" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:44">44&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:45" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:45">45&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:46" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:46">46&nbsp;</a></td>
            <td class="code">// Write to NC (disable soft limits)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:47" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:47">47&nbsp;</a></td>
            <td class="code">fbHomewriteSoftLimEnable(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:48" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:49" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecuteWriteNC AND bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:50" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:51" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset:=bReset,  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:52" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:52">52&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:53" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:53">53&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:54" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:54">54&nbsp;</a></td>
            <td class="code">bBusy:=fbHomewriteSoftLimEnable.bBusy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:55" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:55">55&nbsp;</a></td>
            <td class="code">bDone:=fbHomewriteSoftLimEnable.bDone;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:56" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:56">56&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:57" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:57">57&nbsp;</a></td>
            <td class="code">bError:=fbHomewriteSoftLimEnable.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:58" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:58">58&nbsp;</a></td>
            <td class="code">IF fbHomewriteSoftLimEnable.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:59" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbHomewriteSoftLimEnable.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:60" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:60">60&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:61" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:61">61&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeFinish:62" class="lineid"><a class="unassuming-link" href="#FB_HomeFinish:62">62&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</a></li>
</ul>

<h3>FB_HomeFinish - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeFinish - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeFinish - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeFinish - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomePrepare">FB_HomePrepare</h2>
<img src="graphs/FB_HomePrepare.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomePrepare:1" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomePrepare">FB_HomePrepare</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:2" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:3" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:4" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:5" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:6" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nCmdData: UINT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:7" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:7">7&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:8" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:8">8&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:9" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:10" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:10">10&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:11" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:11">11&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:12" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:13" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:14" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:15" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:16" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:17" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableLowOriginal: BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:18" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableHighOriginal: BOOL:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:19" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityToCam: LREAL:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:20" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityFromCam: LREAL:=0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:21" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:21">21&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:22" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:22">22&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:23" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeReadSoftLimEnable:<a class="coderef" href="#FB_HomeReadSoftLimEnable">FB_HomeReadSoftLimEnable</a>;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:24" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeDisableSoftLimEnable:<a class="coderef" href="#FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:25" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeReadNCVelocities: <a class="coderef" href="#FB_HomeReadNcVelocities">FB_HomeReadNcVelocities</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:26" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeResetCalibrationFlag:MC_Home;&nbsp;&nbsp;&nbsp;//Only used for reset of calibration flag</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:27" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbExecuteRiseEdge: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:28" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteReadNC:BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:29" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteWriteNC:BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:30" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nState:INT:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:31" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:31">31&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:32" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:32">32&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:33" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:33">33&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:34" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:35" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:36" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:36">36&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:37" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:37">37&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:38" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:38">38&nbsp;</a></td>
            <td class="code">IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:39" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteReadNC:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:40" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteWriteNC:=FALSE;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:41" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:42" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:42">42&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:43" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:43">43&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:44" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:44">44&nbsp;</a></td>
            <td class="code">fbExecuteRiseEdge(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:45" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:45">45&nbsp;</a></td>
            <td class="code">IF fbExecuteRiseEdge.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:46" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteReadNC:=TRUE;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:47" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:47">47&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:48" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:48">48&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:49" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:49">49&nbsp;</a></td>
            <td class="code">// Read from NC</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:50" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:50">50&nbsp;</a></td>
            <td class="code">fbHomeReadNCVelocities(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:51" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:52" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecute:=bExecuteReadNC, // Actualy not needed for sequence 15&nbsp;(set position only, no movement))</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:53" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bReset:=bReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:54" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:55" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:55">55&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:56" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:56">56&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:57" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:57">57&nbsp;</a></td>
            <td class="code">fbHomeReadSoftLimEnable(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:58" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:59" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecuteReadNC AND bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:60" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:61" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:61">61&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset:=bReset,  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:62" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:62">62&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:63" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:63">63&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:64" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:64">64&nbsp;</a></td>
            <td class="code">// Reset calibration flag</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:65" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:65">65&nbsp;</a></td>
            <td class="code">fbHomeResetCalibrationFlag(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:66" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;Execute:=bExecuteReadNC,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:67" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;HomingMode:=MC_ResetCalibration,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:68" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:69" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:69">69&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:70" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:70">70&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:71" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:71">71&nbsp;</a></td>
            <td class="code">bSofLimEnableLowOriginal:=fbHomeReadSoftLimEnable.bSofLimEnableLow;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:72" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:72">72&nbsp;</a></td>
            <td class="code">bSofLimEnableHighOriginal:=fbHomeReadSoftLimEnable.bSofLimEnableHigh;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:73" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:73">73&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:74" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:74">74&nbsp;</a></td>
            <td class="code">fVelocityToCam:=fbHomeReadNCVelocities.fVelocityToCam;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:75" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:75">75&nbsp;</a></td>
            <td class="code">fVelocityFromCam:=fbHomeReadNCVelocities.fVelocityFromCam;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:76" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:76">76&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:77" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:77">77&nbsp;</a></td>
            <td class="code">IF bExecuteReadNC AND bExecute AND fbHomeReadSoftLimEnable.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:78" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeDisableSoftLimEnable.bSofLimEnableHigh:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:79" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeDisableSoftLimEnable.bSofLimEnableLow:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:80" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:80">80&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteWriteNC:=TRUE;&nbsp;//Always write (only needed if enabled actually)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:81" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:81">81&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:82" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:82">82&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:83" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:83">83&nbsp;</a></td>
            <td class="code">// Write to NC (disable soft limits)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:84" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:84">84&nbsp;</a></td>
            <td class="code">fbHomeDisableSoftLimEnable(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:85" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:86" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:86">86&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecuteWriteNC AND bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:87" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:87">87&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:88" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset:=bReset,  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:89" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:89">89&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:90" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:90">90&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:91" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:91">91&nbsp;</a></td>
            <td class="code">bBusy:=fbHomeReadSoftLimEnable.bBusy OR fbHomeDisableSoftLimEnable.bBusy OR fbHomeReadNCVelocities.bBusy OR fbHomeResetCalibrationFlag.Busy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:92" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:92">92&nbsp;</a></td>
            <td class="code">bDone:=fbHomeReadSoftLimEnable.bDone AND fbHomeDisableSoftLimEnable.bDone AND fbHomeReadNCVelocities.bDone AND fbHomeResetCalibrationFlag.Done AND bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:93" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:93">93&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:94" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:94">94&nbsp;</a></td>
            <td class="code">bError:=fbHomeReadSoftLimEnable.bError OR fbHomeDisableSoftLimEnable.bError OR fbHomeReadNCVelocities.bError OR fbHomeResetCalibrationFlag.Error;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:95" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:95">95&nbsp;</a></td>
            <td class="code">IF fbHomeReadSoftLimEnable.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:96" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:96">96&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbHomeReadSoftLimEnable.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:97" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:97">97&nbsp;</a></td>
            <td class="code">ELSIF fbHomeDisableSoftLimEnable.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:98" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:98">98&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbHomeDisableSoftLimEnable.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:99" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:99">99&nbsp;</a></td>
            <td class="code">ELSIF fbHomeResetCalibrationFlag.Error THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:100" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbHomeResetCalibrationFlag.ErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:101" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:101">101&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:102" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:102">102&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomePrepare:103" class="lineid"><a class="unassuming-link" href="#FB_HomePrepare:103">103&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_HomeReadNcVelocities">FB_HomeReadNcVelocities</a></li>
    <li><a href="#FB_HomeReadSoftLimEnable">FB_HomeReadSoftLimEnable</a></li>
    <li><a href="#FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</a></li>
</ul>

<h3>FB_HomePrepare - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomePrepare - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomePrepare - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomePrepare - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeReadNcVelocities">FB_HomeReadNcVelocities</h2>
<img src="graphs/FB_HomeReadNcVelocities.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeReadNcVelocities:1" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeReadNcVelocities">FB_HomeReadNcVelocities</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:2" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:3" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:4" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:5" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:6" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:6">6&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:7" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:7">7&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:8" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:9" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:9">9&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:10" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:10">10&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:11" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:12" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:13" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:14" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:15" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:16" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityToCam: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:17" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityFromCam: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:18" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:19" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:20" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbReadVelocityToCam:<a class="coderef" href="#FB_ReadFloatParameter">FB_ReadFloatParameter</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:21" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbReadVelocityFromCam:<a class="coderef" href="#FB_ReadFloatParameter">FB_ReadFloatParameter</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:22" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:22">22&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:23" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:23">23&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:24" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:24">24&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:25" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:26" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:27" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:27">27&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:28" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:29" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:29">29&nbsp;</a></td>
            <td class="code">fbReadVelocityToCam(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:30" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:31" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#4000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:32" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#6,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:33" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:34" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:35" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:35">35&nbsp;</a></td>
            <td class="code">fbReadVelocityFromCam(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:36" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:37" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#4000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:38" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#7,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:39" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:40" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:41" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:41">41&nbsp;</a></td>
            <td class="code">fVelocityToCam:=fbReadVelocityToCam.nData;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:42" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:42">42&nbsp;</a></td>
            <td class="code">fVelocityFromCam:=fbReadVelocityFromCam.nData;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:43" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:43">43&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:44" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:44">44&nbsp;</a></td>
            <td class="code">bBusy:=fbReadVelocityFromCam.bBusy OR fbReadVelocityToCam.bBusy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:45" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:45">45&nbsp;</a></td>
            <td class="code">bDone:=fbReadVelocityFromCam.bDone AND fbReadVelocityToCam.bDone AND bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:46" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:46">46&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:47" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:47">47&nbsp;</a></td>
            <td class="code">bError:=fbReadVelocityToCam.bError OR fbReadVelocityFromCam.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:48" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:48">48&nbsp;</a></td>
            <td class="code">IF fbReadVelocityToCam.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:49" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbReadVelocityToCam.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:50" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:50">50&nbsp;</a></td>
            <td class="code">ELSIF fbReadVelocityFromCam.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:51" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbReadVelocityFromCam.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:52" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:52">52&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:53" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:53">53&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadNcVelocities:54" class="lineid"><a class="unassuming-link" href="#FB_HomeReadNcVelocities:54">54&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_ReadFloatParameter">FB_ReadFloatParameter</a></li>
</ul>

<h3>FB_HomeReadNcVelocities - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeReadNcVelocities - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeReadNcVelocities - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeReadNcVelocities - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeReadSoftLimEnable">FB_HomeReadSoftLimEnable</h2>
<img src="graphs/FB_HomeReadSoftLimEnable.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:1" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeReadSoftLimEnable">FB_HomeReadSoftLimEnable</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:2" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:3" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:4" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:5" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:6" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:6">6&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:7" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:7">7&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:8" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:9" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:9">9&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:10" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:10">10&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:11" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:12" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:12">12&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:13" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:14" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:15" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:16" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableLow: BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:17" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableHigh: BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:18" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:19" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:20" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbReadSoftLimEnableLow:<a class="coderef" href="#FB_ReadParameterInNc_v1_00">FB_ReadParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:21" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbReadSoftLimEnableHigh:<a class="coderef" href="#FB_ReadParameterInNc_v1_00">FB_ReadParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:22" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:22">22&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:23" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:23">23&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:24" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:24">24&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:25" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:26" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:27" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:27">27&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:28" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:29" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:29">29&nbsp;</a></td>
            <td class="code">fbReadSoftLimEnableLow(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:30" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:31" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#5000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:32" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#B,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:33" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:34" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:34">34&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:35" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:35">35&nbsp;</a></td>
            <td class="code">fbReadSoftLimEnableHigh(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:36" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:37" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#5000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:38" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#C,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:39" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:40" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:41" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:41">41&nbsp;</a></td>
            <td class="code">bSofLimEnableLow:=DWORD_TO_BOOL(fbReadSoftLimEnableLow.nData);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:42" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:42">42&nbsp;</a></td>
            <td class="code">bSofLimEnableHigh:=DWORD_TO_BOOL(fbReadSoftLimEnableHigh.nData);&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:43" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:43">43&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:44" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:44">44&nbsp;</a></td>
            <td class="code">bBusy:=fbReadSoftLimEnableLow.bBusy OR fbReadSoftLimEnableHigh.bBusy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:45" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:45">45&nbsp;</a></td>
            <td class="code">bDone:=fbReadSoftLimEnableLow.bDone AND fbReadSoftLimEnableHigh.bDone AND bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:46" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:46">46&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:47" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:47">47&nbsp;</a></td>
            <td class="code">bError:=fbReadSoftLimEnableLow.bError OR fbReadSoftLimEnableHigh.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:48" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:48">48&nbsp;</a></td>
            <td class="code">IF fbReadSoftLimEnableLow.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:49" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbReadSoftLimEnableLow.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:50" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:50">50&nbsp;</a></td>
            <td class="code">ELSIF fbReadSoftLimEnableHigh.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:51" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbReadSoftLimEnableHigh.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:52" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:52">52&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:53" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:53">53&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeReadSoftLimEnable:54" class="lineid"><a class="unassuming-link" href="#FB_HomeReadSoftLimEnable:54">54&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_ReadParameterInNc_v1_00">FB_ReadParameterInNc_v1_00</a></li>
</ul>

<h3>FB_HomeReadSoftLimEnable - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeReadSoftLimEnable - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeReadSoftLimEnable - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeReadSoftLimEnable - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeToSwitch">FB_HomeToSwitch</h2>
<img src="graphs/FB_HomeToSwitch.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeToSwitch:1" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeToSwitch">FB_HomeToSwitch</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:2" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:3" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:4" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:5" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:6" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bCamSensor:BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:7" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nSearchDirTwoardsCam: MC_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:8" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nSearchDirOffCam: MC_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:9" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHomePosition:LREAL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:10" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityToCamNC: LREAL;&nbsp;//Velcoity when searching for cam</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:11" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityFromCamNC: LREAL;&nbsp;// Velocity after found cam (searching for next signal transition)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:12" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:12">12&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:13" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:13">13&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:14" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:15" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:15">15&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:16" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:16">16&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:17" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:18" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:19" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:20" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bHomed:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:21" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:22" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:23" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:23">23&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:24" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:24">24&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:25" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHome: MC_Home;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:26" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteHomeDirCamToNC:<a class="coderef" href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:27" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteHomeDirSyncToNC:<a class="coderef" href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:28" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteHomeModeToNC:<a class="coderef" href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:29" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteHomeVelocitiesToNC: <a class="coderef" href="#FB_HomeWriteNcVelocities">FB_HomeWriteNcVelocities</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:30" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bConfigNCDone:BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:31" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbRTrigg: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:32" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:32">32&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:33" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:33">33&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:34" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:34">34&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:35" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bConfigNCDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:36" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:37" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:38" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:38">38&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:39" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:40" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:40">40&nbsp;</a></td>
            <td class="code">//Start preparation of NC if rising edge on bExecute</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:41" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:41">41&nbsp;</a></td>
            <td class="code">fbRTrigg(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:42" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:42">42&nbsp;</a></td>
            <td class="code">IF fbRTrigg.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:43" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bConfigNCDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:44" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:44">44&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:45" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:45">45&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:46" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:46">46&nbsp;</a></td>
            <td class="code">&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:47" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:47">47&nbsp;</a></td>
            <td class="code">fbWriteHomeDirCamToNC(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:48" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute AND NOT bConfigNCDone,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:49" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:=16#5000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:50" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:=16#101,  &nbsp;&nbsp;//Direction for Calibration Cam Search &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:51" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=BOOL_TO_DWORD(nSearchDirTwoardsCam=MC_Negative_Direction),//BOOL_TO_DWORD(NOT bSearchDirTwoardsCam),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:52" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:53" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:53">53&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:54" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:54">54&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:55" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:55">55&nbsp;</a></td>
            <td class="code">fbWriteHomeDirSyncToNC(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:56" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:= bExecute AND NOT bConfigNCDone,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:57" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:=16#5000&nbsp;,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:58" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:=16#102&nbsp;, //Direction for Sync Impuls Search</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:59" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=BOOL_TO_DWORD(nSearchDirOffCam=MC_Negative_Direction),//BOOL_TO_DWORD(NOT bSearchDirOffCam),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:60" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:61" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:61">61&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:62" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:62">62&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:63" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:63">63&nbsp;</a></td>
            <td class="code">fbWriteHomeModeToNC(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:64" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute AND NOT bConfigNCDone,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:65" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:=16#5000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:66" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:=16#107,  //Reference Mode</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:67" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=1,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:68" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:69" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:70" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:70">70&nbsp;</a></td>
            <td class="code">fbWriteHomeVelocitiesToNC(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:71" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:72" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecute:=bExecute AND NOT bConfigNCDone,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:73" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bReset:=bReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:74" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fVelocityFromCam:=fVelocityFromCamNC,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:75" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fVelocityToCam:=fVelocityToCamNC,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:76" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;Axis:=Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:77" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:77">77&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:78" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:78">78&nbsp;</a></td>
            <td class="code">fbHome.bCalibrationCam:=bCamSensor;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:79" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:79">79&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:80" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:80">80&nbsp;</a></td>
            <td class="code">fbHome(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:81" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:81">81&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Execute:=bExecute AND bConfigNCDone(* AND NOT bError*),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:82" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Position:=fHomePosition,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:83" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;HomingMode:=0,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:84" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:85" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:86" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:86">86&nbsp;</a></td>
            <td class="code">bBusy:=(fbHome.Busy OR (NOT bConfigNCDone AND bExecute));</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:87" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:87">87&nbsp;</a></td>
            <td class="code">bDone:=fbHome.Done AND bConfigNCDone;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:88" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:88">88&nbsp;</a></td>
            <td class="code">bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:89" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:89">89&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:90" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:90">90&nbsp;</a></td>
            <td class="code">IF (NOT bConfigNCDone) AND fbWriteHomeDirCamToNC.bDone AND fbWriteHomeDirSyncToNC.bDone AND fbWriteHomeModeToNC.bDone AND fbWriteHomeVelocitiesToNC.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:91" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:91">91&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bConfigNCDone:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:92" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:92">92&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:93" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:93">93&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:94" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:94">94&nbsp;</a></td>
            <td class="code">//For some reason MC_HOME gives an Error for one cycle of NC-Task 1&nbsp;SVB (10ms default..) so filter with bExecute</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:95" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:95">95&nbsp;</a></td>
            <td class="code">bError:=(fbHome.Error AND bExecute) OR fbWriteHomeDirCamToNC.bError OR fbWriteHomeDirSyncToNC.bError OR fbWriteHomeModeToNC.bError OR fbWriteHomeVelocitiesToNC.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:96" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:96">96&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:97" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:97">97&nbsp;</a></td>
            <td class="code">IF (fbHome.Error AND bExecute) THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:98" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:98">98&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbHome.ErrorID;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:99" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:99">99&nbsp;</a></td>
            <td class="code">ELSIF fbWriteHomeDirCamToNC.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:100" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteHomeDirCamToNC.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:101" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:101">101&nbsp;</a></td>
            <td class="code">ELSIF fbWriteHomeDirSyncToNC.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:102" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:102">102&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteHomeDirSyncToNC.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:103" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:103">103&nbsp;</a></td>
            <td class="code">ELSIF fbWriteHomeModeToNC.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:104" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:104">104&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteHomeModeToNC.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:105" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:105">105&nbsp;</a></td>
            <td class="code">ELSIF fbWriteHomeVelocitiesToNC.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:106" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:106">106&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteHomeVelocitiesToNC.nErrorId;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:107" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:107">107&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:108" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:108">108&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeToSwitch:109" class="lineid"><a class="unassuming-link" href="#FB_HomeToSwitch:109">109&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_HomeWriteNcVelocities">FB_HomeWriteNcVelocities</a></li>
    <li><a href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a></li>
</ul>

<h3>FB_HomeToSwitch - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeToSwitch - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeToSwitch - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeToSwitch - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeVirtual">FB_HomeVirtual</h2>
<img src="graphs/FB_HomeVirtual.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeVirtual:1" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeVirtual">FB_HomeVirtual</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:2" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:3" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:4" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:5" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:6" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nCmdData: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:7" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bLimitFwd: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:8" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bLimitBwd: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:9" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:9">9&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bHomeSensor: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:10" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHomePosition:LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:11" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nHomeRevOffset: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:12" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:12">12&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:13" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:13">13&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:14" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:15" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:15">15&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:16" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:16">16&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:17" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:18" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:19" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:20" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bHomed:BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:21" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:22" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:23" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:23">23&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:24" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:24">24&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:25" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch: <a class="coderef" href="#FB_HomeToSwitch">FB_HomeToSwitch</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:26" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeDirect: <a class="coderef" href="#FB_HomeDirect">FB_HomeDirect</a>;&nbsp;//Only used for direct homing (set of position)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:27" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity:MC_MoveVelocity;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:28" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomePrepare:<a class="coderef" href="#FB_HomePrepare">FB_HomePrepare</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:29" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:29">29&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish:<a class="coderef" href="#FB_HomeFinish">FB_HomeFinish</a>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:30" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbExecuteRiseEdge: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:31" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:INT:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:32" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeToSwitch:BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:33" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:34" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecutePrepare: BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:35" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish: BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:36" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeDirect: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:37" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nCmdDataLocal: UINT;&nbsp;&nbsp;//Ensure that nCmdData is not changed during sequence</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:38" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:39" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded: BOOL:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:40" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:40">40&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:41" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:41">41&nbsp;</a></td>
            <td class="code">EnO:=En;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:42" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:42">42&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:43" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:43">43&nbsp;</a></td>
            <td class="code">IF bReset THEN &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:44" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:45" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:45">45&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:46" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:46">46&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:47" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:47">47&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:48" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:48">48&nbsp;</a></td>
            <td class="code">// Reset when bExecute is low</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:49" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:49">49&nbsp;</a></td>
            <td class="code">IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:50" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nHomingState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:51" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bSequenceReady:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:52" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:52">52&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteHomeToSwitch:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:53" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteHomeDirect:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:54" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteMoveVelocity:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:55" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecutePrepare:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:56" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecuteFinish:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:57" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:57">57&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:58" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:58">58&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:59" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:59">59&nbsp;</a></td>
            <td class="code">//Reset at rinsing edge of bExecute</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:60" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:60">60&nbsp;</a></td>
            <td class="code">fbExecuteRiseEdge(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:61" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:61">61&nbsp;</a></td>
            <td class="code">IF fbExecuteRiseEdge.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:62" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nCmdDataLocal:=nCmdData;&nbsp;//Ensure that nCmdData is not changed during sequence (nCmdData will only be read at a&nbsp;rising edge of bExecute)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:63" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:64" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecutePrepare:=TRUE;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:65" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bRestoreNCDataNeeded:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:66" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;//Check if valid nCmdDataLocal</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:67" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;CASE nCmdDataLocal OF &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:68" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;1:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:69" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;2:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:70" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;3:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:71" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;4:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:72" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;15:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:73" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE //nCmdData not valid &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:74" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bError:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:75" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=16#4FFF;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:76" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;END_CASE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:77" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:77">77&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:78" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:78">78&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:79" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:79">79&nbsp;</a></td>
            <td class="code">//############# Prepare for homing (Read from NC and reset homed flag)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:80" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:80">80&nbsp;</a></td>
            <td class="code">fbHomePrepare(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:81" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:81">81&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:82" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecute:=bExecutePrepare AND NOT bError, // Not needed for sequence 15&nbsp;(set position only, no movement))</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:83" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bReset:=bReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:84" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:85" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:85">85&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:86" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:86">86&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:87" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:87">87&nbsp;</a></td>
            <td class="code">//############# Homing Sequences:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:88" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:88">88&nbsp;</a></td>
            <td class="code">CASE nCmdDataLocal OF &nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:89" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:89">89&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:90" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:90">90&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;1: // Home to low limit switch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:91" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:91">91&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE nHomingState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:92" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:92">92&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:93" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:93">93&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:94" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:94">94&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Wait for read of velocities from NC and reset of calibration flag</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:95" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:95">95&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:96" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:96">96&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:97" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:97">97&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF bLimitBwd THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:98" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:98">98&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:99" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:99">99&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:100" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:100">100&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;&nbsp;&nbsp;//Standing on limit switch go direct to state 2&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:101" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:101">101&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:102" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:102">102&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:103" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:103">103&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: // wait for reach low limit then trigger fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:104" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:104">104&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:105" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:105">105&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:106" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:106">106&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:107" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:107">107&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Direction:=MC_Negative_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:108" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:108">108&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=bExecute;&nbsp;&nbsp;// Execute MC_MoveVelocity</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:109" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:109">109&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bLimitBwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:110" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:110">110&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:111" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:111">111&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:112" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:112">112&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: // Wait for fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:113" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:113">113&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:114" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:114">114&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:115" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:115">115&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:116" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:116">116&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeToSwitch:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:117" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:117">117&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Positive_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:118" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:118">118&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirOffCam:=MC_Positive_Direction;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:119" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:119">119&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam;&nbsp;// High speed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:120" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:120">120&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;&nbsp;&nbsp;// Low speed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:121" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:121">121&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.bCamSensor:=NOT bLimitBwd;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:122" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:122">122&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeToSwitch.bDone THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:123" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:123">123&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=3;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:124" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:124">124&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:125" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:125">125&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:126" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:126">126&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:127" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:127">127&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:128" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:128">128&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: // restore softlimit enable</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:129" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:129">129&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:130" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:130">130&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:131" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:131">131&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeFinish.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:132" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:132">132&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:133" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:133">133&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:134" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:134">134&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:135" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:135">135&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:136" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:136">136&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:137" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:137">137&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_CASE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:138" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:138">138&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:139" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:139">139&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;2: // Home to high limit switch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:140" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:140">140&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE nHomingState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:141" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:141">141&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:142" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:142">142&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:143" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:143">143&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Wait for read of velocities from NC and reset of calibration flag</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:144" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:144">144&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:145" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:145">145&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:146" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:146">146&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF bLimitFwd THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:147" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:147">147&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:148" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:148">148&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:149" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:149">149&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;&nbsp;&nbsp;//Standing on limit switch go direct to state 2&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:150" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:150">150&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:151" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:151">151&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:152" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:152">152&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: // wait for reach low limit then trigger fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:153" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:153">153&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:154" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:154">154&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:155" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:155">155&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:156" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:156">156&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Direction:=MC_Positive_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:157" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:157">157&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=bExecute;&nbsp;&nbsp;// Execute MC_MoveVelocity</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:158" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:158">158&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bLimitFwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:159" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:159">159&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:160" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:160">160&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:161" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:161">161&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: // Wait for fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:162" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:162">162&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:163" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:163">163&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:164" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:164">164&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:165" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:165">165&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeToSwitch:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:166" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:166">166&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Negative_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:167" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:167">167&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirOffCam:=MC_Negative_Direction;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:168" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:168">168&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam;&nbsp;// High speed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:169" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:169">169&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;&nbsp;&nbsp;// Low speed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:170" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:170">170&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.bCamSensor:=NOT bLimitFwd;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:171" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:171">171&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeToSwitch.bDone THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:172" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:172">172&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=3;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:173" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:173">173&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:174" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:174">174&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:175" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:175">175&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:176" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:176">176&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:177" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:177">177&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: // restore softlimit enable</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:178" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:178">178&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:179" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:179">179&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:180" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:180">180&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeFinish.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:181" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:181">181&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:182" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:182">182&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:183" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:183">183&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:184" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:184">184&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:185" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:185">185&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:186" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:186">186&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_CASE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:187" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:187">187&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:188" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:188">188&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;3: // Home on bHomeSensor via bLimitBwd</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:189" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:189">189&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE nHomingState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:190" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:190">190&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:191" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:191">191&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:192" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:192">192&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Wait for read of velocities from NC and reset of calibration flag</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:193" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:193">193&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:194" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:194">194&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:195" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:195">195&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF bLimitBwd THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:196" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:196">196&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:197" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:197">197&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:198" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:198">198&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;&nbsp;&nbsp;//Standing on limit switch go direct to state 2&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:199" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:199">199&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:200" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:200">200&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:201" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:201">201&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: // wait for reach low limit then trigger fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:202" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:202">202&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:203" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:203">203&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:204" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:204">204&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:205" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:205">205&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Direction:=MC_Negative_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:206" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:206">206&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=bExecute;&nbsp;&nbsp;// Execute MC_MoveVelocity</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:207" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:207">207&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bLimitBwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:208" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:208">208&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:209" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:209">209&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:210" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:210">210&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: // Wait for fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:211" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:211">211&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:212" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:212">212&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:213" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:213">213&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:214" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:214">214&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeToSwitch:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:215" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:215">215&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Positive_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:216" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:216">216&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirOffCam:=MC_Positive_Direction;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:217" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:217">217&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam;&nbsp;// High speed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:218" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:218">218&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;&nbsp;&nbsp;// Low speed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:219" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:219">219&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.bCamSensor:=bHomeSensor;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:220" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:220">220&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeToSwitch.bDone THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:221" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:221">221&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=3;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:222" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:222">222&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:223" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:223">223&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:224" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:224">224&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:225" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:225">225&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:226" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:226">226&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: // restore softlimit enable</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:227" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:227">227&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:228" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:228">228&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:229" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:229">229&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeFinish.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:230" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:230">230&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:231" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:231">231&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:232" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:232">232&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:233" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:233">233&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:234" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:234">234&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:235" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:235">235&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_CASE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:236" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:236">236&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;4:  // Home on bHomeSensor via bLimitFwd &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:237" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:237">237&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE nHomingState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:238" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:238">238&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:239" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:239">239&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:240" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:240">240&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Wait for read of velocities from NC and reset of calibration flag</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:241" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:241">241&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomePrepare.bDone AND bExecute AND NOT bSequenceReady THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:242" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:242">242&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:243" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:243">243&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF bLimitFwd THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:244" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:244">244&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:245" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:245">245&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:246" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:246">246&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;&nbsp;&nbsp;//Standing on limit switch go direct to state 2&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:247" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:247">247&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:248" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:248">248&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:249" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:249">249&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: // wait for reach low limit then trigger fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:250" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:250">250&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:251" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:251">251&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:252" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:252">252&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Velocity:=ABS(fbHomePrepare.fVelocityToCam);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:253" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:253">253&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbMoveVelocity.Direction:=MC_Positive_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:254" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:254">254&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=bExecute;&nbsp;&nbsp;// Execute MC_MoveVelocity</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:255" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:255">255&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bLimitFwd AND NOT fbMoveVelocity.Busy AND Axis.Status.NotMoving THEN //MC_MoveVelocity.Busy goes down when ramp down initiates (not ends).</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:256" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:256">256&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=2;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:257" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:257">257&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:258" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:258">258&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: // Wait for fbHomeToSwitch</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:259" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:259">259&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:260" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:260">260&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:261" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:261">261&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteMoveVelocity:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:262" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:262">262&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeToSwitch:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:263" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:263">263&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirTwoardsCam:=MC_Negative_Direction;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:264" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:264">264&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.nSearchDirOffCam:=MC_Negative_Direction;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:265" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:265">265&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityToCamNC:=fbHomePrepare.fVelocityToCam;&nbsp;// High speed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:266" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:266">266&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.fVelocityFromCamNC:=fbHomePrepare.fVelocityFromCam;&nbsp;&nbsp;// Low speed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:267" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:267">267&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeToSwitch.bCamSensor:=bHomeSensor;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:268" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:268">268&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeToSwitch.bDone THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:269" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:269">269&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=3;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:270" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:270">270&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:271" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:271">271&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableHigh:=fbHomePrepare.bSofLimEnableHighOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:272" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:272">272&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbHomeFinish.bSofLimEnableLow:=fbHomePrepare.bSofLimEnableLowOriginal;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:273" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:273">273&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:274" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:274">274&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: // Restore softlimit enable</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:275" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:275">275&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:276" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:276">276&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:277" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:277">277&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeFinish.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:278" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:278">278&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:279" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:279">279&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:280" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:280">280&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nHomingState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:281" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:281">281&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:282" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:282">282&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:283" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:283">283&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_CASE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:284" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:284">284&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:285" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:285">285&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;15: //Set current position (simplest homing sequence)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:286" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:286">286&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeDirect:=bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:287" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:287">287&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:288" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:288">288&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeDirect.bDone THEN &nbsp;//Homing ready &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:289" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:289">289&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteHomeDirect:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:290" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:290">290&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bSequenceReady:=TRUE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:291" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:291">291&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF  &nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:292" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:292">292&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:293" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:293">293&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:294" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:294">294&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;fbHomeToSwitch.bCamSensor:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:295" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:295">295&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bHomed:=Axis.Status.Homed;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:296" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:296">296&nbsp;</a></td>
            <td class="code">END_CASE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:297" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:297">297&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:298" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:298">298&nbsp;</a></td>
            <td class="code">// Main homing block</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:299" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:299">299&nbsp;</a></td>
            <td class="code">fbHomeToSwitch(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:300" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:300">300&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecuteHomeToSwitch AND bExecute AND NOT bError AND NOT bExecuteHomeDirect AND NOT bExecuteMoveVelocity,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:301" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:301">301&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bReset:=bReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:302" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:302">302&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHomePosition:=fHomePosition,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:303" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:303">303&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:304" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:304">304&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:305" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:305">305&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:306" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:306">306&nbsp;</a></td>
            <td class="code">// Approach limit switch (error if MC_Home is used)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:307" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:307">307&nbsp;</a></td>
            <td class="code">fbMoveVelocity(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:308" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:308">308&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Execute:= bExecuteMoveVelocity AND bExecute AND NOT bError AND NOT bExecuteHomeToSwitch AND NOT bExecuteHomeDirect,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:309" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:309">309&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:310" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:310">310&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:311" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:311">311&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:312" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:312">312&nbsp;</a></td>
            <td class="code">// No sequence, just set position value (nCmdDataLocal=15). Can not run if fbHomeToSwitch is executed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:313" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:313">313&nbsp;</a></td>
            <td class="code">fbHomeDirect(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:314" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:314">314&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecuteHomeDirect AND bExecute AND NOT bError &nbsp;AND NOT bExecuteHomeToSwitch AND NOT bExecuteMoveVelocity,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:315" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:315">315&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bReset:=bReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:316" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:316">316&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fHomePosition:=fHomePosition,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:317" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:317">317&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:=Axis</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:318" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:318">318&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:319" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:319">319&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:320" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:320">320&nbsp;</a></td>
            <td class="code">&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:321" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:321">321&nbsp;</a></td>
            <td class="code">//############# Finish homing</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:322" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:322">322&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:323" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:323">323&nbsp;</a></td>
            <td class="code">IF NOT bexecute AND bRestoreNCDataNeeded THEN &nbsp;//If homing is aborted restore is needed</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:324" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:324">324&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:325" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:325">325&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF fbHomeFinish.bDone THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:326" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:326">326&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bExecuteFinish:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:327" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:327">327&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bRestoreNCDataNeeded:=FALSE;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:328" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:328">328&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:329" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:329">329&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:330" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:330">330&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:331" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:331">331&nbsp;</a></td>
            <td class="code">fbHomeFinish(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:332" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:332">332&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;En:=En,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:333" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:333">333&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bExecute:=bExecuteFinish,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:334" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:334">334&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;bReset:=bReset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:335" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:335">335&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:336" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:336">336&nbsp;</a></td>
            <td class="code">);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:337" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:337">337&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:338" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:338">338&nbsp;</a></td>
            <td class="code">// Error handling</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:339" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:339">339&nbsp;</a></td>
            <td class="code">IF NOT bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:340" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:340">340&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;IF fbHomeToSwitch.bError THEN </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:341" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:341">341&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=fbHomeToSwitch.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:342" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:342">342&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=fbHomeToSwitch.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:343" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:343">343&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;ELSIF fbHomeDirect.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:344" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:344">344&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=fbHomeDirect.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:345" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:345">345&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=fbHomeDirect.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:346" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:346">346&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;ELSIF fbMoveVelocity.Error THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:347" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:347">347&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=fbMoveVelocity.Error;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:348" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:348">348&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=fbMoveVelocity.ErrorId;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:349" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:349">349&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;END_IF;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:350" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:350">350&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:351" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:351">351&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:352" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:352">352&nbsp;</a></td>
            <td class="code">// Done and busy bit</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:353" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:353">353&nbsp;</a></td>
            <td class="code">bDone:=bSequenceReady AND bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:354" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:354">354&nbsp;</a></td>
            <td class="code">bBusy:=NOT bSequenceReady;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:355" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:355">355&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:356" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:356">356&nbsp;</a></td>
            <td class="code">RETURN;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:357" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:357">357&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeVirtual:358" class="lineid"><a class="unassuming-link" href="#FB_HomeVirtual:358">358&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_HomeDirect">FB_HomeDirect</a></li>
    <li><a href="#FB_HomeFinish">FB_HomeFinish</a></li>
    <li><a href="#FB_HomePrepare">FB_HomePrepare</a></li>
    <li><a href="#FB_HomeToSwitch">FB_HomeToSwitch</a></li>
</ul>

<h3>FB_HomeVirtual - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeVirtual - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeVirtual - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeVirtual - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeWriteNcVelocities">FB_HomeWriteNcVelocities</h2>
<img src="graphs/FB_HomeWriteNcVelocities.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeWriteNcVelocities:1" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeWriteNcVelocities">FB_HomeWriteNcVelocities</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:2" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:3" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:4" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:5" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:6" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityToCam: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:7" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocityFromCam: LREAL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:8" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:8">8&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:9" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:9">9&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:10" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:11" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:11">11&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:12" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:12">12&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:13" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:14" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:15" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:16" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:17" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:18" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:19" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:20" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbExecuteRiseEdge: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:21" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteVelocityToCam:<a class="coderef" href="#FB_WriteFloatParameter">FB_WriteFloatParameter</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:22" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteVelocityFromCam:<a class="coderef" href="#FB_WriteFloatParameter">FB_WriteFloatParameter</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:23" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:23">23&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:24" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:24">24&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:25" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:25">25&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:26" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:27" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:28" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:28">28&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:29" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:29">29&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:30" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:30">30&nbsp;</a></td>
            <td class="code">fbExecuteRiseEdge(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:31" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:31">31&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:32" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:32">32&nbsp;</a></td>
            <td class="code">fbWriteVelocityToCam(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:33" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:34" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#4000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:35" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#6,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:36" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=fVelocityToCam,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:37" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:38" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:39" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:39">39&nbsp;</a></td>
            <td class="code">fbWriteVelocityFromCam(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:40" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:41" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#4000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:42" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#7,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:43" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=fVelocityFromCam,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:44" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:45" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:45">45&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:46" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:46">46&nbsp;</a></td>
            <td class="code">bBusy:=fbWriteVelocityFromCam.bBusy OR fbWriteVelocityToCam.bBusy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:47" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:47">47&nbsp;</a></td>
            <td class="code">bDone:=fbWriteVelocityFromCam.bDone AND fbWriteVelocityToCam.bDone AND bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:48" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:48">48&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:49" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:49">49&nbsp;</a></td>
            <td class="code">bError:=fbWriteVelocityToCam.bError OR fbWriteVelocityFromCam.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:50" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:50">50&nbsp;</a></td>
            <td class="code">IF fbWriteVelocityToCam.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:51" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteVelocityToCam.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:52" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:52">52&nbsp;</a></td>
            <td class="code">ELSIF fbWriteVelocityFromCam.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:53" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteVelocityFromCam.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:54" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:54">54&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:55" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:55">55&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteNcVelocities:56" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteNcVelocities:56">56&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_WriteFloatParameter">FB_WriteFloatParameter</a></li>
</ul>

<h3>FB_HomeWriteNcVelocities - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeWriteNcVelocities - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeWriteNcVelocities - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeWriteNcVelocities - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</h2>
<img src="graphs/FB_HomeWriteSoftLimEnable.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:1" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_HomeWriteSoftLimEnable">FB_HomeWriteSoftLimEnable</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:2" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:3" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:4" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bReset: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:5" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:6" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableLow: BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:7" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bSofLimEnableHigh: BOOL:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:8" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:8">8&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:9" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:9">9&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:10" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:10">10&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:11" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:11">11&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:12" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:12">12&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:13" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:13">13&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:14" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:15" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:16" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:17" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:18" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:19" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:20" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbExecuteRiseEdge: R_TRIG;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:21" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteSoftLimEnableLow:<a class="coderef" href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:22" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbWriteSoftLimEnableHigh:<a class="coderef" href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a>;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:23" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:23">23&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:24" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:24">24&nbsp;</a></td>
            <td class="code">En:=EnO;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:25" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:25">25&nbsp;</a></td>
            <td class="code">IF bReset THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:26" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:27" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:28" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:28">28&nbsp;</a></td>
            <td class="code">END_IF </td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:29" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:29">29&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:30" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:30">30&nbsp;</a></td>
            <td class="code">fbExecuteRiseEdge(CLK:=bExecute);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:31" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:31">31&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:32" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:32">32&nbsp;</a></td>
            <td class="code">fbWriteSoftLimEnableLow(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:33" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:34" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#5000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:35" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#B,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:36" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:36">36&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=BOOL_TO_DWORD(bSofLimEnableLow),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:37" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:38" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:39" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:39">39&nbsp;</a></td>
            <td class="code">fbWriteSoftLimEnableHigh(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:40" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute:=bExecute,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:41" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup:= 16#5000,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:42" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:42">42&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset:= 16#C,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:43" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:43">43&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData:=BOOL_TO_DWORD(bSofLimEnableHigh),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:44" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis:= Axis);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:45" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:45">45&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:46" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:46">46&nbsp;</a></td>
            <td class="code">bBusy:=fbWriteSoftLimEnableLow.bBusy OR fbWriteSoftLimEnableHigh.bBusy;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:47" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:47">47&nbsp;</a></td>
            <td class="code">bDone:=fbWriteSoftLimEnableLow.bDone AND fbWriteSoftLimEnableHigh.bDone AND bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:48" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:48">48&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:49" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:49">49&nbsp;</a></td>
            <td class="code">bError:=fbWriteSoftLimEnableHigh.bError OR fbWriteSoftLimEnableLow.bError;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:50" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:50">50&nbsp;</a></td>
            <td class="code">IF fbWriteSoftLimEnableHigh.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:51" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteSoftLimEnableHigh.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:52" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:52">52&nbsp;</a></td>
            <td class="code">ELSIF fbWriteSoftLimEnableLow.bError THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:53" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;nErrorId:=fbWriteSoftLimEnableLow.nErrorId;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:54" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:54">54&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:55" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:55">55&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_HomeWriteSoftLimEnable:56" class="lineid"><a class="unassuming-link" href="#FB_HomeWriteSoftLimEnable:56">56&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a></li>
</ul>

<h3>FB_HomeWriteSoftLimEnable - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeWriteSoftLimEnable - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeWriteSoftLimEnable - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_HomeWriteSoftLimEnable - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_NcAxis">FB_NcAxis</h2>
<img src="graphs/FB_NcAxis.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_NcAxis:1" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:1">1&nbsp;</a></td>
            <td class="code">///#########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:2" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:2">2&nbsp;</a></td>
            <td class="code">///Function block to communicate between Nc and Plc.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:3" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:3">3&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:4" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:4">4&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Library: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:5" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:5">5&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Tc2_MC2.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:6" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:6">6&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:7" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:7">7&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Global Variables:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:8" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:8">8&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:9" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:9">9&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Data types:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:10" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:10">10&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:11" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:11">11&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;External functions:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:12" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:12">12&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:13" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:13">13&nbsp;</a></td>
            <td class="code">///###########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:14" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:14">14&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_NcAxis">FB_NcAxis</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:15" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:15">15&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:16" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;sVersion: STRING:='1.0.0';</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:17" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:17">17&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:18" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:18">18&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:19" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:19">19&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;En: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:20" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:20">20&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:21" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:21">21&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:22" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;EnO: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:23" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:24" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Status: ST_AxisStatus;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:25" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:25">25&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:26" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:26">26&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:27" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:28" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;InfoData_State AT %I*: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:29" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:29">29&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:30" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:30">30&nbsp;</a></td>
            <td class="code">EnO:=En;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:31" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:31">31&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:32" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:32">32&nbsp;</a></td>
            <td class="code">IF En AND InfoData_State<>16#8&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:33" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:34" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:34">34&nbsp;</a></td>
            <td class="code">ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:35" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:35">35&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:36" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:36">36&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:37" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:37">37&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:38" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:38">38&nbsp;</a></td>
            <td class="code">IF En THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:39" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis.ReadStatus();</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:40" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Status:=Axis.Status;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:41" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:41">41&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:42" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:42">42&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_NcAxis:43" class="lineid"><a class="unassuming-link" href="#FB_NcAxis:43">43&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_NcAxis - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_NcAxis - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_NcAxis - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_NcAxis - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_ReadParameterInNc_v1_00">FB_ReadParameterInNc_v1_00</h2>
<img src="graphs/FB_ReadParameterInNc_v1_00.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:1" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:1">1&nbsp;</a></td>
            <td class="code">///#########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:2" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:2">2&nbsp;</a></td>
            <td class="code">///Function block to read parameter in Nc.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:3" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:3">3&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:4" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:4">4&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Library: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:5" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:5">5&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Tc2_MC2.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:6" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:6">6&nbsp;</a></td>
            <td class="code">/// Tc2_System.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:7" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:7">7&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:8" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:8">8&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Global Variables:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:9" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:9">9&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:10" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:10">10&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Data types:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:11" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:11">11&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:12" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:12">12&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;External functions:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:13" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:13">13&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:14" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:14">14&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;History:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:15" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:15">15&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;2014-02-05&nbsp;&nbsp;&nbsp;&nbsp;v1.00&nbsp;&nbsp;&nbsp;&nbsp;NB &nbsp;&nbsp;&nbsp;Release code.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:16" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:16">16&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:17" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:17">17&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Known bugs:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:18" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:18">18&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:19" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:19">19&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:20" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:20">20&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:21" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:21">21&nbsp;</a></td>
            <td class="code">///###########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:22" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:22">22&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_ReadParameterInNc_v1_00">FB_ReadParameterInNc_v1_00</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:23" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:23">23&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:24" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:25" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///16#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:26" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:27" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:28" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:28">28&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:29" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:29">29&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:30" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData: DWORD;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:31" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:32" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:33" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:34" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:35" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:35">35&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:36" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:36">36&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:37" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:38" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:38">38&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:39" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:39">39&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:40" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nState: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:41" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSREAD: ADSREAD;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:42" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:42">42&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:43" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:43">43&nbsp;</a></td>
            <td class="code">(*Sequence to read parameter in Nc*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:44" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:44">44&nbsp;</a></td>
            <td class="code">CASE nState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:45" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:45">45&nbsp;</a></td>
            <td class="code">0:  (*Start sequence. Wait until bExecute is TRUE*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:46" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:47" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:48" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:49" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:50" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=10;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:51" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:52" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:52">52&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:53" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:53">53&nbsp;</a></td>
            <td class="code">10: (*Read parameter in Nc*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:54" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSREAD(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:55" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PORT:=500,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:56" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDXGRP:=nDeviceGroup+Axis.NcToPlc.AxisId,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:57" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDXOFFS:=nIndexOffset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:58" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEN:=SIZEOF(nData),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:59" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DESTADDR:=ADR(nData),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:60" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READ:=TRUE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:61" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:61">61&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:62" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;(*Wait until it's done or if an error occurs*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:63" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT fbADSREAD.ERR THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:64" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT fbADSREAD.BUSY THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:65" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbADSREAD(READ:=FALSE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:66" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=20;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:67" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:68" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:69" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=fbADSREAD.ERRID;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:70" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=999;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:71" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:72" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:72">72&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:73" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:73">73&nbsp;</a></td>
            <td class="code">20: (*Sequense is done. Waits until bExecute is FALSE*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:74" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:75" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:76" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:77" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:77">77&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:78" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:79" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:80" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:80">80&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:81" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:81">81&nbsp;</a></td>
            <td class="code">999: (*Error in sequence*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:82" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:83" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:84" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:85" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSREAD(READ:=FALSE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:86" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:86">86&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:87" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:87">87&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:88" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:89" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:89">89&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:90" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:90">90&nbsp;</a></td>
            <td class="code">END_CASE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:91" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:91">91&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_ReadParameterInNc_v1_00:92" class="lineid"><a class="unassuming-link" href="#FB_ReadParameterInNc_v1_00:92">92&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_ReadParameterInNc_v1_00 - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_ReadParameterInNc_v1_00 - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_ReadParameterInNc_v1_00 - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_ReadParameterInNc_v1_00 - Summary</h3>
<ul>
    <li>
    </li>
</ul>

<h2 id="FB_WriteFloatParameter">FB_WriteFloatParameter</h2>
<img src="graphs/FB_WriteFloatParameter.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_WriteFloatParameter:1" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:1">1&nbsp;</a></td>
            <td class="code">///#########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:2" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:2">2&nbsp;</a></td>
            <td class="code">///Function block to write parameter in Nc.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:3" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:3">3&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:4" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:4">4&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Library: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:5" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:5">5&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Tc2_MC2.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:6" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:6">6&nbsp;</a></td>
            <td class="code">/// Tc2_System.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:7" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:7">7&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:8" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:8">8&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Global Variables:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:9" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:9">9&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:10" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:10">10&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Data types:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:11" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:11">11&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:12" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:12">12&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;External functions:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:13" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:13">13&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:14" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:14">14&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;History:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:15" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:15">15&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;2014-02-05&nbsp;&nbsp;&nbsp;&nbsp;v1.00&nbsp;&nbsp;&nbsp;&nbsp;NB &nbsp;&nbsp;&nbsp;Release code.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:16" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:16">16&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:17" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:17">17&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Known bugs:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:18" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:18">18&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:19" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:19">19&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:20" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:20">20&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:21" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:21">21&nbsp;</a></td>
            <td class="code">///###########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:22" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:22">22&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_WriteFloatParameter">FB_WriteFloatParameter</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:23" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:23">23&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:24" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:25" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///16#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:26" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:27" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:28" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:29" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:29">29&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:30" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:30">30&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:31" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:32" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:33" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:34" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:35" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:35">35&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:36" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:36">36&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:37" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:38" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:38">38&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:39" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:39">39&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:40" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nState: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:41" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE: ADSWRITE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:42" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:42">42&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:43" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:43">43&nbsp;</a></td>
            <td class="code">(*Sequence to write parameter in Nc*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:44" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:44">44&nbsp;</a></td>
            <td class="code">CASE nState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:45" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:45">45&nbsp;</a></td>
            <td class="code">0:  (*Start sequence. Wait until bExecute is TRUE*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:46" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:47" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:48" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:49" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:50" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=10;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:51" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:52" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:52">52&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:53" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:53">53&nbsp;</a></td>
            <td class="code">10: (*Write parameter in Nc*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:54" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:55" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PORT:=500,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:56" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDXGRP:=nDeviceGroup+Axis.NcToPlc.AxisId,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:57" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDXOFFS:=nIndexOffset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:58" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEN:=SIZEOF(nData),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:59" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SRCADDR:=ADR(nData),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:60" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITE:=TRUE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:61" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:61">61&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:62" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;(*Wait until it's done or if an error occurs*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:63" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT fbADSWRITE.ERR THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:64" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT fbADSWRITE.BUSY THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:65" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE(WRITE:=FALSE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:66" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=20;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:67" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:68" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:69" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=fbADSWRITE.ERRID;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:70" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=999;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:71" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:72" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:72">72&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:73" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:73">73&nbsp;</a></td>
            <td class="code">20: (*Sequense is done. Waits until bExecute is FALSE*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:74" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:75" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:76" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:77" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:77">77&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:78" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:79" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:80" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:80">80&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:81" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:81">81&nbsp;</a></td>
            <td class="code">999: (*Error in sequence*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:82" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:83" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:84" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:85" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE(WRITE:=FALSE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:86" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:86">86&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:87" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:87">87&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:88" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:89" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:89">89&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:90" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:90">90&nbsp;</a></td>
            <td class="code">END_CASE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:91" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:91">91&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteFloatParameter:92" class="lineid"><a class="unassuming-link" href="#FB_WriteFloatParameter:92">92&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_WriteFloatParameter - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_WriteFloatParameter - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_WriteFloatParameter - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_WriteFloatParameter - Summary</h3>
<ul>
    <li>
    </li>
</ul>


<h2 id="FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</h2>
<img src="graphs/FB_WriteParameterInNc_v1_00.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:1" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:1">1&nbsp;</a></td>
            <td class="code">///#########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:2" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:2">2&nbsp;</a></td>
            <td class="code">///Function block to write parameter in Nc.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:3" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:3">3&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:4" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:4">4&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Library: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:5" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:5">5&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Tc2_MC2.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:6" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:6">6&nbsp;</a></td>
            <td class="code">/// Tc2_System.lib</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:7" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:7">7&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:8" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:8">8&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Global Variables:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:9" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:9">9&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:10" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:10">10&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Data types:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:11" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:11">11&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:12" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:12">12&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;External functions:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:13" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:13">13&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:14" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:14">14&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;History:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:15" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:15">15&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;2014-02-05&nbsp;&nbsp;&nbsp;&nbsp;v1.00&nbsp;&nbsp;&nbsp;&nbsp;NB &nbsp;&nbsp;&nbsp;Release code.</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:16" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:16">16&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:17" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:17">17&nbsp;</a></td>
            <td class="code">///  &nbsp;&nbsp;Known bugs:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:18" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:18">18&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:19" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:19">19&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:20" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:20">20&nbsp;</a></td>
            <td class="code">///</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:21" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:21">21&nbsp;</a></td>
            <td class="code">///###########################################################</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:22" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:22">22&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_WriteParameterInNc_v1_00">FB_WriteParameterInNc_v1_00</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:23" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:23">23&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:24" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:24">24&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:25" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;///16#4000=Axisdata, 16#5000=Encoderdata, 16#6000=Controldata, 16#7000=Drivedata</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:26" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nDeviceGroup: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:27" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nIndexOffset: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:28" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nData: DWORD;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:29" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:29">29&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:30" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:30">30&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:31" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:32" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:33" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:33">33&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:34" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nErrorId: UDINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:35" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:35">35&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:36" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:36">36&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:37" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:37">37&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:38" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:38">38&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:39" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:39">39&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:40" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nState: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:41" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:41">41&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE: ADSWRITE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:42" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:42">42&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:43" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:43">43&nbsp;</a></td>
            <td class="code">(*Sequence to write parameter in Nc*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:44" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:44">44&nbsp;</a></td>
            <td class="code">CASE nState OF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:45" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:45">45&nbsp;</a></td>
            <td class="code">0:  (*Start sequence. Wait until bExecute is TRUE*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:46" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:46">46&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:47" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:47">47&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:48" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:48">48&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bError:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:49" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:49">49&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:50" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:50">50&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=10;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:51" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:51">51&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:52" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:52">52&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:53" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:53">53&nbsp;</a></td>
            <td class="code">10: (*Write parameter in Nc*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:54" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:54">54&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:55" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:55">55&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PORT:=500,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:56" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:56">56&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDXGRP:=nDeviceGroup+Axis.NcToPlc.AxisId,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:57" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:57">57&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDXOFFS:=nIndexOffset,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:58" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:58">58&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LEN:=SIZEOF(nData),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:59" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:59">59&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SRCADDR:=ADR(nData),</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:60" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITE:=TRUE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:61" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:61">61&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:62" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:62">62&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;(*Wait until it's done or if an error occurs*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:63" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:63">63&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT fbADSWRITE.ERR THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:64" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:64">64&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF NOT fbADSWRITE.BUSY THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:65" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:65">65&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE(WRITE:=FALSE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:66" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=20;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:67" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:68" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;ELSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:69" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nErrorId:=fbADSWRITE.ERRID;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:70" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=999;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:71" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:72" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:72">72&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:73" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:73">73&nbsp;</a></td>
            <td class="code">20: (*Sequense is done. Waits until bExecute is FALSE*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:74" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:75" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:76" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:77" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:77">77&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:78" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:79" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:80" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:80">80&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:81" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:81">81&nbsp;</a></td>
            <td class="code">999: (*Error in sequence*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:82" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bError:=TRUE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:83" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bBusy:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:84" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:84">84&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDone:=FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:85" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:85">85&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbADSWRITE(WRITE:=FALSE);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:86" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:86">86&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:87" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:87">87&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nState:=0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:88" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:88">88&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:89" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:89">89&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:90" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:90">90&nbsp;</a></td>
            <td class="code">END_CASE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:91" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:91">91&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_WriteParameterInNc_v1_00:92" class="lineid"><a class="unassuming-link" href="#FB_WriteParameterInNc_v1_00:92">92&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_WriteParameterInNc_v1_00 - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_WriteParameterInNc_v1_00 - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_WriteParameterInNc_v1_00 - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_WriteParameterInNc_v1_00 - Summary</h3>
<ul>
    <li>
    </li>
</ul>



<h2 id="FB_MicroStepCountTest">FB_MicroStepCountTest</h2>
<img src="graphs/FB_MicroStepCountTest.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_MicroStepCountTest:1" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_MicroStepCountTest">FB_MicroStepCountTest</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:2" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:2">2&nbsp;</a></td>
            <td class="code">VAR_INPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:3" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bExecute: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:4" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fStepSize: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:5" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:5">5&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nSteps: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:6" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:6">6&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fMicroStep: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:7" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fVelocity: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:8" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:8">8&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;tSettleTime: TIME;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:9" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:9">9&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:10" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:10">10&nbsp;</a></td>
            <td class="code">VAR_IN_OUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:11" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:11">11&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Axis: AXIS_REF;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:12" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:12">12&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:13" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:13">13&nbsp;</a></td>
            <td class="code">VAR_OUTPUT</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:14" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:14">14&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nStepsCounted: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:15" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:15">15&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nTheorySteps: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:16" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:16">16&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fPercent: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:17" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fEstMicroSize: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:18" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:18">18&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:19" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:19">19&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:20" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:20">20&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbMoveRel: MC_MoveRelative;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:21" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:21">21&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fbSettleTimer: TON;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:22" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:22">22&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDoMove: BOOL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:23" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:23">23&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nStepCounter: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:24" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:24">24&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:25" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:25">25&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;arrPosBuffer: ARRAY [0..99] OF LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:26" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:26">26&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fAvgPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:27" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:27">27&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nArrIndex: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:28" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:28">28&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nLoopIndex: UINT;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:29" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:29">29&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:30" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:30">30&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fStartPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:31" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:31">31&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fPrevPos: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:32" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:32">32&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fStepChange: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:33" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:33">33&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:34" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:34">34&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fStepSum: LREAL;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:35" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:35">35&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:36" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:36">36&nbsp;</a></td>
            <td class="code">// Motion FB</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:37" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:37">37&nbsp;</a></td>
            <td class="code">fbMoveRel(Axis:=Axis,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:38" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:38">38&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Execute:=bDoMove,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:39" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:39">39&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Distance:=fStepSize,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:40" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:40">40&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Velocity:=fVelocity);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:41" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:41">41&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:42" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:42">42&nbsp;</a></td>
            <td class="code">// Settle time</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:43" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:43">43&nbsp;</a></td>
            <td class="code">fbSettleTimer(IN:=fbMoveRel.Done,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:44" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:44">44&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;PT:=tSettleTime);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:45" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:45">45&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:46" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:46">46&nbsp;</a></td>
            <td class="code">// Re-enable the move for next cycle</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:47" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:47">47&nbsp;</a></td>
            <td class="code">bDoMove := bExecute AND nStepCounter <&nbsp;nSteps;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:48" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:48">48&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:49" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:49">49&nbsp;</a></td>
            <td class="code">// Calculate rolling average</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:50" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:50">50&nbsp;</a></td>
            <td class="code">arrPosBuffer[nArrIndex] := Axis.NcToPlc.ActPos;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:51" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:51">51&nbsp;</a></td>
            <td class="code">fAvgPos := 0;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:52" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:52">52&nbsp;</a></td>
            <td class="code">FOR nLoopIndex := 0&nbsp;TO 99&nbsp;DO</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:53" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:53">53&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fAvgPos := fAvgPos +&nbsp;arrPosBuffer[nLoopIndex];</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:54" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:54">54&nbsp;</a></td>
            <td class="code">END_FOR;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:55" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:55">55&nbsp;</a></td>
            <td class="code">fAvgPos := fAvgPos /&nbsp;100;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:56" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:56">56&nbsp;</a></td>
            <td class="code">nArrIndex := (nArrIndex +&nbsp;1) MOD 100;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:57" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:57">57&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:58" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:58">58&nbsp;</a></td>
            <td class="code">// Initialize starting variables</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:59" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:59">59&nbsp;</a></td>
            <td class="code">IF NOT bExecute THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:60" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:60">60&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fStartPos := fAvgPos;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:61" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:61">61&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fPrevPos := fAvgPos;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:62" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:62">62&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:63" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:63">63&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:64" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:64">64&nbsp;</a></td>
            <td class="code">// Check results</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:65" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:65">65&nbsp;</a></td>
            <td class="code">IF fbSettleTimer.Q THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:66" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:66">66&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fStepChange := fAvgPos -&nbsp;fPrevPos;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:67" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:67">67&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Invert fStepChange if we were doing negative steps</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:68" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:68">68&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF fStepSize <&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:69" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:69">69&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fStepChange := fStepChange *&nbsp;-1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:70" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:70">70&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:71" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:71">71&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF fStepChange >&nbsp;fMicroStep *&nbsp;0.5&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:72" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:72">72&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nStepsCounted := nStepsCounted +&nbsp;1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:73" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:73">73&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fStepSum := fStepSum +&nbsp;fStepChange;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:74" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:74">74&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fEstMicroSize := fStepSum /&nbsp;nStepsCounted;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:75" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:75">75&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:76" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:76">76&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nTheorySteps := DINT_TO_UINT(TRUNC(ABS((fStartPos -&nbsp;fAvgPos) /&nbsp;fMicroStep)));</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:77" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:77">77&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IF nTheorySteps >&nbsp;0&nbsp;THEN</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:78" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:78">78&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fPercent := 100&nbsp;* nStepsCounted /&nbsp;nTheorySteps;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:79" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:79">79&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:80" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:80">80&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;fPrevPos := fAvgPos;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:81" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:81">81&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;nStepCounter := nStepCounter +&nbsp;1;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:82" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:82">82&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;// Reset the move block</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:83" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:83">83&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;bDoMove := FALSE;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:84" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:84">84&nbsp;</a></td>
            <td class="code">END_IF</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:85" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:85">85&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_MicroStepCountTest:86" class="lineid"><a class="unassuming-link" href="#FB_MicroStepCountTest:86">86&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>


<h3>FB_MicroStepCountTest - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_MicroStepCountTest - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_MicroStepCountTest - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_MicroStepCountTest - Summary</h3>
<ul>
    <li>
    </li>
</ul>



<h2 id="FB_PositionStatePMPS_Test">FB_PositionStatePMPS_Test</h2>
<img src="graphs/FB_PositionStatePMPS_Test.dot.png" />


<table>
    <thead>
        <tr>
            <th>Line</th>
            <th>Code</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="FB_PositionStatePMPS_Test:1" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:1">1&nbsp;</a></td>
            <td class="code">FUNCTION_BLOCK <a class="coderef" href="#FB_PositionStatePMPS_Test">FB_PositionStatePMPS_Test</a>&nbsp;EXTENDS <a class="coderef" href="#FB_PositionStatePMPS_Base">FB_PositionStatePMPS_Base</a></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:2" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:2">2&nbsp;</a></td>
            <td class="code">(*</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:3" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:3">3&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Implement position state pmps with no FFO and auto-accept transition after 3s</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:4" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:4">4&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;Use for offline testing of everything except the explicit interface</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:5" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:5">5&nbsp;</a></td>
            <td class="code">*)</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:6" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:6">6&nbsp;</a></td>
            <td class="code">VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:7" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:7">7&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;tonReq: TON;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:8" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:8">8&nbsp;</a></td>
            <td class="code">END_VAR</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:9" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:9">9&nbsp;</a></td>
            <td class="code">Exec();</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:10" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:10">10&nbsp;</a></td>
            <td class="code"></td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:11" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:11">11&nbsp;</a></td>
            <td class="code">END_FUNCTION_BLOCK</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:12" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:12">12&nbsp;</a></td>
            <td class="code">ACTION HandleBPTM:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:13" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:13">13&nbsp;</a></td>
            <td class="code">// Send the fake BPTM our assertion request by changing stStateReq.stBeamParams</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:14" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:14">14&nbsp;</a></td>
            <td class="code">// We expect to recieve bTransitionAuthorized TRUE after some delta T</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:15" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:15">15&nbsp;</a></td>
            <td class="code">// We expect bTransitionAuthorized to go FALSE after stMotionStage.bBusy goes FALSE</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:16" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:16">16&nbsp;</a></td>
            <td class="code">tonReq(</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:17" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:17">17&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;IN:=bInTransition,</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:18" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:18">18&nbsp;</a></td>
            <td class="code">&nbsp;&nbsp;&nbsp;&nbsp;PT:=T#3s);</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:19" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:19">19&nbsp;</a></td>
            <td class="code">bTransitionAuthorized := tonReq.Q AND stMotionStage.bExecute;</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:20" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:20">20&nbsp;</a></td>
            <td class="code">END_ACTION</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:21" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:21">21&nbsp;</a></td>
            <td class="code">ACTION HandleFFO:</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:22" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:22">22&nbsp;</a></td>
            <td class="code">// Skip implementing this for offline testing</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:23" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:23">23&nbsp;</a></td>
            <td class="code">// We won't be able to tell if it worked anyway</td>
            <td class="note"></td>
        </tr>
        <tr>
            <td id="FB_PositionStatePMPS_Test:24" class="lineid"><a class="unassuming-link" href="#FB_PositionStatePMPS_Test:24">24&nbsp;</a></td>
            <td class="code">END_ACTION</td>
            <td class="note"></td>
        </tr>
    </tbody>
</table>

<br/>
Related:
<br/>
<ul>
    <li><a href="#FB_PositionStatePMPS_Base">FB_PositionStatePMPS_Base</a></li>
</ul>

<h3>FB_PositionStatePMPS_Test - API Usage Requirements</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStatePMPS_Test - Assumptions for Correct Functionality</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStatePMPS_Test - Failure Modes</h3>
<ul>
    <li>
    </li>
</ul>

<h3>FB_PositionStatePMPS_Test - Summary</h3>
<ul>
    <li>
    </li>
</ul>
